(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{141:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return wn})),n.d(t,"persistor",(function(){return zn}));var i=n(1),c=n.n(i),a=n(13),o=n.n(a),l=(n(73),n(3)),s=n.n(l),r=n(5),d=n(2),u=n(8),j=n(7),m=n(19),b=n(145),p=n(0),_=Object(r.b)((function(e){return{}}),(function(e){return{}}))((function(e){var t=Object(m.d)(),n=t.isModalOpen,i=t.openModal,c=t.closeModal,a=function(){return function(){i(),e.action(),setTimeout((function(){try{void 0!=document.getElementsByClassName("modalWrapper")[0]&&(document.getElementsByClassName("modalWrapper")[0].style.marginTop=parseInt(window.scrollY)+"px")}catch(e){console.error(e)}}),100),window.onscroll=function(e){window.pageYOffset?window.pageYOffset:document.documentElement.clientHeight?document.documentElement.scrollTop:document.body&&document.body.scrollTop;try{void 0!=document.getElementsByClassName("modalWrapper")[0]&&(document.getElementsByClassName("modalWrapper")[0].style.marginTop=parseInt(window.scrollY)+"px")}catch(t){console.error(t)}}}};return Object(p.jsxs)(p.Fragment,{children:[null==e.messageLink?Object(p.jsxs)("a",{onClick:a(),className:e.linkClass,children:["Altro ",Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","arrow-circle-right"]})]}):Object(p.jsx)("a",{onClick:a(),className:e.linkClass,children:e.messageLink}),Object(p.jsx)(m.a,{id:"any-unique-identifier",isOpen:n,transition:m.c.SCALE,children:Object(p.jsx)("div",{className:"modalWrapper",children:Object(p.jsx)(l.Box,{title:e.title,style:{marginBottom:"0px !important"},type:"primary",footer:Object(p.jsx)("a",{onClick:c,className:"clickable",children:"Chiudi"}),children:Object(p.jsx)(l.Col,{className:"col-md-12 col-xs-12",children:Object(p.jsx)(b.a,{children:0==e.childs.length?Object(p.jsx)("p",{children:"Nessun dato trovato."}):e.childs.map((function(e,t){return Object(p.jsx)("div",{children:e},t)}))})})})})})]})})),h=Object(r.b)((function(e){return{}}),(function(e){return{}}))((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)(l.Col,{xs:e.size,children:Object(p.jsxs)("div",{className:"small-box bg-red",children:[Object(p.jsxs)("div",{className:"inner",children:[Object(p.jsx)("h3",{children:e.problems}),Object(p.jsx)("p",{children:e.titles[0]})]}),Object(p.jsx)("div",{className:"icon",children:Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","times-circle"]})}),Object(p.jsx)("span",{href:"#",className:"small-box-footer",children:0==e.isHome?Object(p.jsx)(_,{title:"Problemi",linkClass:"whiteLink",childs:e.popUpChildsProblemi,action:function(){return console.log("action")}}):Object(p.jsx)(_,{title:"Problemi",linkClass:"whiteLink",childs:e.idClientsProblemi,action:function(){return console.log("action")}})})]})}),Object(p.jsx)(l.Col,{xs:e.size,children:Object(p.jsxs)("div",{className:"small-box bg-yellow",children:[Object(p.jsxs)("div",{className:"inner",children:[Object(p.jsx)("h3",{children:e.warnings}),Object(p.jsx)("p",{children:e.titles[1]})]}),Object(p.jsx)("div",{className:"icon",children:Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","exclamation-circle"]})}),Object(p.jsx)("span",{href:"#",className:"small-box-footer",children:0==e.isHome?Object(p.jsx)(_,{title:"Warnings",linkClass:"whiteLink",childs:e.popUpChildsWarnings,action:function(){return console.log("action")}}):Object(p.jsx)(_,{title:"Warnings",linkClass:"whiteLink",childs:e.idClientsWarnings,action:function(){return console.log("action")}})})]})}),Object(p.jsx)(l.Col,{xs:e.size,children:Object(p.jsxs)("div",{className:"small-box bg-green",children:[Object(p.jsxs)("div",{className:"inner",children:[Object(p.jsx)("h3",{children:e.running}),Object(p.jsx)("p",{children:e.titles[2]})]}),Object(p.jsx)("div",{className:"icon",children:Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","play-circle"]})}),Object(p.jsx)("span",{href:"#",className:"small-box-footer",children:Object(p.jsx)("h2",{})})]})})]})})),g=n(15),O="LOGIN",x="SIGNUP",f="ADDLICENSE",v="REMOVELICENSE",y="SEARCHCLIENT",C="PLACESLIST",k="CATEGORIESLIST",S="CATEGORYVSPLACE",N="SERVICESLIST",w="EVENTSLIST",z="UPDATECOMPANYDATA",E="SERVIZIOVERVIEW",T="LISTANOMISEDI",I="UPDATESIDEBAR",L="CLIENTTEMPLATEWINDOWSSERVICES",A="CLIENTTEMPLATEWINDOWSEVENTS",F="CLIENTTEMPLATEINFO",R="CLIENTTEMPLATEALERT",U="CLIENTTEMPLATERESET",P="COMPANYTEMPLATELICENZE",D="UPDATECLIENTOVERVIEW",M="UPDATECOMPANYOVERVIEW",B="FIXSEDI",V="UPDATECLIENTHISTORY",W="UPDATECOMPANYHISTORY",H="UPDATECLIENTLICENSES",G="TOTALRESET",Z="UPDATETOKEN",Y="GETCONFIGURAZIONEALERT",q="GETLASTDATE",X="GETLASTMAILDATE",J=function(e,t,n,i,c,a,o,l,s,r){return{type:O,id_company:t,nome_company:e,email:n,emailNotify:i,client_list:c,token:a,lista_sedi:o,chiave_di_registrazione:l,listaNomiSedi:s,listaIdSedi:r}},K=function(e){return{type:N,servicesList:e}},Q=function(e,t,n,i){return{type:L,windows_services:{n_monitorati:i,n_esecuzione:t,n_stop:n,n_totali:e}}},$=function(e){return{type:F,info:e}},ee=function(e){return{type:R,alert:e}},te=function(){return{type:U}},ne=function(e){return{type:P,lista_licenze:e}},ie=function(e){return{type:B,lista_client:e}},ce=function(){return{type:G}},ae=function(e){return{type:Z,token:e}},oe={tipo:"1",label:"Sistema operativo"},le={tipo:"2",label:"Backup"},se={tipo:"3",label:"Antivirus"},re={tipo:"4",label:"Rete"},de={tipo:"5",label:"Vulnerabilita'"},ue="0",je="1",me="-2",be=["","DRIVE","SERVIZI WINDOWS","EVENTI WINDOWS"],pe=20,_e=function(e){var t=e;return-1!=e.indexOf(".")&&(t=e.substring(0,e.indexOf("."))),-1!=e.indexOf("T")&&(t=t.replace("T"," ")),t},he=function(e,t,n){for(var i=0;i<n.length;i++)if(n[i]==e)return t[i]},ge=function(e){switch(String(e)){case oe.tipo:return oe.label;case le.tipo:return le.label;case re.tipo:return re.label;case de.tipo:return de.label;case se.tipo:return se.label}},Oe=function(e,t,n){n.sort((function(n,i){return t?n[e]>i[e]?1:n[e]<i[e]?-1:0:i[e]>n[e]?1:i[e]<n[e]?-1:0}))},xe=function(e){return e==me||String(e)==String(me)},fe=function(e,t){return null!=t&&e!=t},ve=function(e){var t;switch(e){case"WINDOWS_SERVICES":t="Servizi di Windows";break;case"WINDOWS_EVENTS":t="Eventi di Windows";break;case"DRIVES":t="Drives";break;default:t=e}return t},ye=n(20),Ce=n.n(ye),ke=n(34),Se=n(42),Ne=Se.url_login,we=Se.url_get_nomi_sedi,ze=(Se.url_lista_sediFake,Se.url_lista_gruppiFake,Se.url_signup),Ee=(Se.url_deep_clientFake,Se.url_loginFake,Se.url_edit_company_dataFake,Se.url_edit_company_data),Te=Se.url_shallow_licenze,Ie=(Se.url_get_servizi_monitoratiFake,Se.url_get_servizi_allFake,Se.url_get_servizi_overviewFake,Se.url_get_eventi_overviewFake,Se.url_get_eventiFake,Se.url_get_servizi_overview),Le=(Se.url_shallow_licenzeFake,Se.url_get_servizi_allFake2,Se.url_get_servizi_monitoratiFake2,Se.url_get_servizi_all),Ae=Se.url_get_servizi_monitorati,Fe=Se.url_modifica_monitoraggio_servizio,Re=Se.url_get_eventi,Ue=Se.url_get_eventi_overview,Pe=Se.url_lista_sedi,De=Se.url_lista_gruppi,Me=Se.url_deep_client,Be=Se.url_shallow_clients,Ve=Se.url_modifica_sede,We=Se.url_get_drives,He=(Se.url_get_n_sediFake,Se.url_get_n_sedi),Ge=Se.url_inserimento_sede,Ze=Se.url_cancellazione_sede,Ye=Se.url_get_latest_alert,qe=Se.url_compra_licenza,Xe=(Se.url_get_client_overview,Se.url_get_client_overview_drives,Se.url_get_client_overview_services),Je=(Se.url_get_client_overview_events,Se.url_get_company_overview),Ke=Se.url_get_client_history,Qe=Se.url_get_company_history,$e=Se.url_assign_license,et=(Se.url_modifica_monitoraggio_alert,Se.url_get_monitoraggio_alert),tt=Se.url_update_monitoraggio_alert,nt=Se.url_get_last_date,it=Se.url_get_all_services_of_company,ct=Se.url_get_all_nomi_alert_configurazione,at=Se.url_update_monitora_all_services,ot=Se.url_update_monitora_all_alerts,lt=Se.url_unsubscribe_alert,st=Se.url_change_mail_interval,rt=Se.url_get_mail_interval,dt=Se.url_richiedi_password,ut=Se.url_cambio_password,jt=Se.url_is_token_valid,mt=Se.url_get_last_mail_date_and_time,bt=n(43),pt=n(131),_t=function(e,t){return bt.post(Pe,{token:t,id_company:e})},ht=function(e,t){return bt.post(Te,{token:t,id_company:e})},gt=function(e,t){return bt.post(Be,{id_company:String(e),token:t})},Ot=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pe;return bt.post(Re,{id_client:String(t),token:e,sottocategoria:n,slot:String(i),n:String(c)})},xt=function(e,t){return bt.post(Ie,{id_client:String(t),token:e})},ft=function(e,t){return bt.post(we,{id_company:String(t),token:e})},vt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return bt.post(Ye,{id_client:String(t),n_settimane:String(n),token:e})},yt=function(){var e=Object(ke.a)(Ce.a.mark((function e(t,n){var i;return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.post(Xe,{id_client:String(n),token:t});case 2:return i=e.sent,e.abrupt("return",{errori:[i.data.servicesResponse.errori,i.data.eventiResponse.errori,i.data.drivesResponse.errori],warnings:[i.data.servicesResponse.warning,i.data.eventiResponse.warning,i.data.drivesResponse.warning],ok:[i.data.servicesResponse.ok,0,i.data.drivesResponse.ok]});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(ke.a)(Ce.a.mark((function e(t,n){var i,c,a,o=arguments;return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>2&&void 0!==o[2]?o[2]:10,e.next=3,bt.post(Ke,{id_client:String(n),token:t,slot:String(i)});case 3:return c=e.sent,a={xaxis:[],problems:[],warnings:[]},c.data.history.forEach((function(e){a.xaxis.push(e.date),a.problems.push(e.errors),a.warnings.push(e.warnings)})),a.last_update=c.data.last_update,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),kt=function(){var e=Object(ke.a)(Ce.a.mark((function e(t,n){var i,c,a,o=arguments;return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>2&&void 0!==o[2]?o[2]:10,e.next=3,bt.post(Qe,{id_company:String(n),token:t,slot:String(i)});case 3:return c=e.sent,a={xaxis:[],problems:[],warnings:[],last_update:""},c.data.history.forEach((function(e){a.xaxis.push(e.date),a.problems.push(e.errors),a.warnings.push(e.warnings)})),a.last_update=c.data.last_update,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),St=n(143),Nt=Object(p.jsx)(g.a,{toastOptions:{className:"",style:{marginTop:"5px",marginRight:"5px"}},position:"top-right",reverseOrder:!1}),wt=function(){return Math.floor(1e4*Math.random())+1},zt=function(e){g.b.success(e,{id:wt()})},Et=function(e){g.b.error(e,{id:wt()})},Tt=function(e){g.b.loading(e,{id:wt()})},It=function(e){g.b.dismiss(e)},Lt=Object(r.b)((function(e){return{client_template:e.client_template,token:e.token,configurazione_alert:e.configurazione_alert}}),(function(e){return{GetConfigurazioneAlert:function(t){e(function(e){return{type:Y,operazioni:e}}(t))},ClientTemplateAlert:function(t){e(ee(t))}}}))((function(e){var t=function(e){return e%2==1},n=c.a.useState({error_icon:Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","times-circle"],size:"3x",color:"#dd4b39"}),warning_icon:Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","exclamation-circle"],size:"3x",color:"#f39c12"}),success_icon:Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","check-circle"],size:"3x",color:"#00a65a"})}),a=Object(u.a)(n,2),o=a[0],s=(a[1],function(){var t,n,i=Tt("Attendere...");(t=e.token,n=e.id_client,bt.post(et,{id_client:String(n),token:t})).then((function(t){e.GetConfigurazioneAlert(r(t.data.listaOperazioni)),It(i)})).catch((function(e){It(i),Et(String(e))}))}),r=function(e){var n=[];return e.length>0&&n.push(Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(St.a,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("h5",{children:Object(p.jsx)("strong",{children:"MONITORA"})})}),Object(p.jsx)(St.a,{className:"oddColor vertical-aligner col-md-10 col-xs-10",children:Object(p.jsx)("h5",{children:Object(p.jsx)("strong",{children:"OPERAZIONE"})})})]})),e.forEach((function(e,i){n.push(e.monitora?t(i)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(St.a,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("input",{type:"checkbox",defaultChecked:"checked",onChange:function(t){return d(t,e.operazione)}})}),Object(p.jsx)(St.a,{className:"oddColor vertical-aligner col-md-10 col-xs-10",children:Object(p.jsx)("p",{children:ve(e.operazione)})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(St.a,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("input",{type:"checkbox",defaultChecked:"checked",onChange:function(t){return d(t,e.operazione)}})}),Object(p.jsx)(St.a,{className:"evenColor vertical-aligner col-md-10 col-xs-10",children:Object(p.jsx)("p",{children:ve(e.operazione)})})]}):t(i)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(St.a,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("input",{type:"checkbox",autoComplete:"off",onChange:function(t){return d(t,e.operazione)}})}),Object(p.jsx)(St.a,{className:"oddColor vertical-aligner col-md-10 col-xs-10",children:Object(p.jsx)("p",{children:ve(e.operazione)})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(St.a,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("input",{type:"checkbox",autoComplete:"off",onChange:function(t){return d(t,e.operazione)}})}),Object(p.jsx)(St.a,{className:"evenColor vertical-aligner col-md-10 col-xs-10",children:Object(p.jsx)("p",{children:ve(e.operazione)})})]}))})),n},d=function(t,n){var i=Tt("Attendere..."),c=!!t.target.checked;(function(e,t,n,i){return bt.post(tt,{id_client:String(t),token:e,monitora:n,operazione:i})})(e.token,e.id_client,c,n).then((function(t){vt(e.token,e.id_client).then((function(t){e.ClientTemplateAlert(t.data.alerts),It(i)})).catch((function(e){It(i),Et(String(e))}))})).catch((function(e){It(i),Et(String(e))}))};return Object(i.useEffect)((function(){s();var t=Tt("Attendere...");vt(e.token,e.id_client,1).then((function(n){e.ClientTemplateAlert(n.data.alerts),It(t)})).catch((function(e){It(t),Et(String(e))}))}),[]),Object(p.jsx)(l.Box,{title:"Comunicazioni",type:"primary",collapsable:!0,footer:Object(p.jsx)(_,{title:"Gestione degli alert",linkClass:"clickable",childs:e.configurazione_alert,action:function(){return s()}}),children:Object(p.jsx)("div",{className:"card card-danger direct-chat direct-chat-danger",children:Object(p.jsx)("div",{className:"card-body",children:Object(p.jsx)("div",{className:"direct-chat-messages",children:e.client_template.alert.map((function(e,t){return Object(p.jsxs)("div",{className:"direct-chat-msg",children:[Object(p.jsxs)("div",{className:"direct-chat-infos clearfix",children:[Object(p.jsxs)("span",{className:"direct-chat-name float-left",children:["[",be[e.categoria],"] - "]}),Object(p.jsx)("span",{className:"direct-chat-timestamp float-right",children:_e(e.date_and_time_alert)})]}),Object(p.jsx)("span",{className:"direct-chat-img",children:"ERROR"==e.tipo?o.error_icon:"WARNING"==e.tipo?o.warning_icon:"OK"==e.tipo?o.success_icon:Object(p.jsx)(p.Fragment,{})}),Object(p.jsx)("div",{className:"direct-chat-text",children:e.corpo_messaggio})]},t)}))})})})})})),At=n(66),Ft=n.n(At),Rt=(n(39),Object(r.b)((function(e){return{}}),(function(e){return{}}))((function(e){return Object(p.jsx)(l.Box,{title:"Storico",type:"primary",collapsable:!0,footer:"Ultimo aggiornamento "+e.apex.lastUpdate,children:Object(p.jsx)("div",{className:"mixed-chart",children:Object(p.jsx)(Ft.a,{options:e.apex.options,series:e.apex.series,type:"area",width:"100%",height:"183"})})})}))),Ut=n(35),Pt=(n(135),Object(r.b)((function(e){return{}}),(function(e){return{}}))((function(e){var t=parseInt(e.totalSpace)/1073741824,n=parseInt(e.occupiedSpace)/1073741824,i=t-n,c=(100*i/t).toFixed(0);return i=((t=t.toFixed(2))-(n=n.toFixed(2))).toFixed(2),Object(p.jsxs)(l.Box,{title:"Drive "+e.driveLabel+" "+parseInt(100-c)+"% libero",type:"primary",collapsable:!0,footer:"Ultimo aggiornamento "+_e(e.lastUpdate),children:[Object(p.jsx)(l.Col,{md:4,xs:12,children:c>=90?Object(p.jsx)("center",{children:Object(p.jsx)(Ut.a,{value:c,text:"".concat(c,"%"),styles:{path:{stroke:"#dd4b39"},text:{fill:"#dd4b39"}}})}):c>=80?Object(p.jsx)("center",{children:Object(p.jsx)(Ut.a,{value:c,text:"".concat(c,"%"),styles:{path:{stroke:"#f39c12"},text:{fill:"#f39c12"}}})}):Object(p.jsx)("center",{children:Object(p.jsx)(Ut.a,{value:c,text:"".concat(c,"%"),styles:{path:{stroke:"#00a65a"},text:{fill:"#00a65a"}}})})}),Object(p.jsxs)(l.Col,{md:8,xs:12,children:[Object(p.jsxs)("h4",{children:["Dimensione disco: ",t,"GB"]}),Object(p.jsxs)("h4",{children:["Spazio occupato: ",i,"GB"]}),Object(p.jsxs)("h4",{children:["Spazio libero: ",n,"GB"]})]})]})}))),Dt=n(27),Mt=n.n(Dt),Bt=Object(r.b)((function(e){return{id_company:e.id_company,token:e.token,lista_id_sedi:e.lista_id_sedi,lista_nomi_sedi:e.lista_nomi_sedi,client_template:e.client_template}}),(function(e){return{UpdateSidebar:function(t,n,i,c,a){e(function(e,t,n,i,c){return{type:I,clientList:e,token:n,sedi:t,listaNomi:i,listaSedi:c}}(t,n,i,c,a))},SetClientTemplateInfo:function(t){e($(t))},TotalReset:function(){e(ce())}}}))((function(e){var t=c.a.useState({vecchiaSede:"",nuovaSede:"",sedi:[]}),n=Object(u.a)(t,2),a=n[0],o=n[1];Object(i.useEffect)((function(){var t=!0;ft(e.token,e.id_company).then((function(n){if(xe(n.data.messageCode)&&(Et("Sessione scaduta"),e.TotalReset(),t=!1),0!=t){e.token;fe(e.token,n.data.token)&&(e.UpdateToken(n.data.token),n.data.token);var i=[],c=[];n.data.sedi.map((function(e){i.push(e.substring(e.indexOf(",")+1,e.length)),c.push(e.substring(0,e.indexOf(",")))})),o((function(e){return Object(d.a)(Object(d.a)({},e),{},{sedi:i})}))}})).catch((function(e){Et(String(e))}))}),[]);var s,r=function(){var t=!0;console.log(a.nuovaSede),console.log(a.vecchiaSede);var n,i,c,o,l,s=Tt("Modificando i dati...");return(n=e.token,i=e.id_client,c=e.id_company,o=a.nuovaSede,l=a.vecchiaSede,bt.post(Ve,{id_client:String(i),token:n,id_company:String(c),nuovaSede:o,vecchiaSede:l})).then((function(n){if(xe(n.data.messageCode)&&(It(s),Et("Sessione scaduta"),e.TotalReset(),t=!1),0!=t){var i=e.token;fe(i,n.data.token)&&(e.UpdateToken(n.data.token),i=n.data.token);var c=e.client_template.info;c.sede=function(e,t,n){for(var i=0;i<t.length;i++)if(t[i]==e)return n[i]}(a.nuovaSede,e.lista_nomi_sedi,e.lista_id_sedi),e.SetClientTemplateInfo(c),gt(e.id_company,i).then((function(t){var n=t.data.shallowClients;_t(e.id_company,i).then((function(t){var c=t.data.sedi;ft(i,e.id_company).then((function(t){var i=""==t.data.token||null==t.data.token?e.token:t.data.token,a=[],o=[];t.data.sedi.map((function(e){a.push(e.substring(e.indexOf(",")+1,e.length)),o.push(e.substring(0,e.indexOf(",")))})),e.UpdateSidebar(n,c,i,a,o)})).catch((function(e){It(s),Et(String(e))}))})).catch((function(e){It(s),Et(String(e))}))}))}It(s);""==n.data.token||null==n.data.token?e.token:n.data.token})).catch((function(e){It(s),Et(String(e))}))},j=function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{vecchiaSede:e.target.value})}))},m=function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{nuovaSede:e.value})}))},b=function(e){var t="";switch(e){case oe.tipo:t=oe.label;break;case le.tipo:t=le.label;break;case se.tipo:t=se.label;break;case re.tipo:t=re.label;break;case de.tipo:t=de.label}return t};return Object(p.jsx)(l.Box,{title:"Informazioni sul client",type:"primary",collapsable:!0,children:Object(p.jsxs)(l.Col,{md:12,xs:12,children:[Object(p.jsxs)("h4",{children:[Object(p.jsx)("b",{children:"Nome: "}),e.client.nome]}),Object(p.jsxs)("h4",{children:[Object(p.jsx)("b",{children:"Tipologia: "}),e.client.nome_tipologia]}),Object(p.jsxs)("h4",{children:[Object(p.jsx)("b",{children:"MAC address: "}),e.client.mac_address]}),Object(p.jsx)("h4",{children:Object(p.jsx)("b",{children:"Licenze in uso: "})}),e.client.codice_licenza.map((function(t,n){return e.client.classe_licenza.map((function(e,i){return n==i?Object(p.jsxs)("p",{children:[n+1,") ",b(String(e))," ",t]}):Object(p.jsx)(p.Fragment,{})}))})),Object(p.jsxs)("h4",{children:[Object(p.jsx)("b",{children:"Sede di lavoro: "}),he(e.client.sede,e.lista_nomi_sedi,e.lista_id_sedi)," ",Object(p.jsx)(_,{title:"Modifica sede",messageLink:"modifica",linkClass:"clickable",childs:(s=e.client.sede,[Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"col-md-12 col-xs-12",children:[Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{class:"form-group",children:[Object(p.jsx)("label",{htmlFor:"VecchiaSede",children:"Vecchia Sede"}),Object(p.jsx)("input",{type:"text",value:he(s,e.lista_nomi_sedi,e.lista_id_sedi),class:"form-control",id:"VecchiaSede",placeholder:he(s,e.lista_nomi_sedi,e.lista_id_sedi),onChange:j,disabled:!0})]}),Object(p.jsxs)("div",{class:"form-group",children:[Object(p.jsx)("label",{htmlFor:"NuovaSede",children:"Nuova Sede"}),Object(p.jsx)(Mt.a,{onChange:m,options:a.sedi,placeholder:"Seleziona una sede"})]})]}),Object(p.jsx)("br",{}),Object(p.jsx)("center",{children:Object(p.jsx)("button",{class:"btn btn-primary",onClick:function(){return r()},children:"Modifica"})})]})})]),action:function(){return null}})]})]})})})),Vt=Object(r.b)((function(e){return{client_list:e.client_list,token:e.token,services_list:e.services_list}}),(function(e){return{ServicesList:function(t){e(K(t))},SetOverviewServizi:function(t,n,i,c){e(Q(t,n,i,c))},TotalReset:function(){e(ce())},UpdateToken:function(t){e(ae(t))},ClientTemplateReset:function(){e(te())}}}))((function(e){var t=function(){var t,i,c=!0,a=Tt("Caricamento...");(t=e.token,i=e.id_client,bt.post(Le,{id_client:String(i),token:t})).then((function(t){if(xe(t.data.messageCode)&&(It(a),Et("Sessione scaduta"),e.TotalReset(),c=!1),0!=c){var i=e.token;fe(e.token,t.data.token)&&(e.UpdateToken(t.data.token),i=t.data.token);var o=t.data.confWindowsServices;(function(e,t){return bt.post(Ae,{id_client:String(t),token:e})})(i,e.id_client).then((function(t){It(a);var i,c,l=(i=o,c=t.data.monitoraggi,i.map((function(e){return c.map((function(t){e.nome_servizio==t.nome_servizio&&(e.monitora=t.monitora)}))})),i);Oe("nome_servizio",!0,l);var s=n(l);e.ServicesList(s)})).catch((function(e){It(a),Et(String(e))}))}})).catch((function(e){It(a),Et(String(e))}))},n=function(t){var n=[Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(l.Col,{xs:12,md:12,children:["Ultimo aggiornamento: ",_e(t[0].date_and_time),Object(p.jsx)("hr",{})]}),Object(p.jsx)(l.Col,{xs:1,md:1,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"MONITORA"})})}),Object(p.jsx)(l.Col,{xs:5,md:5,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"NOME SERVIZIO"})})}),Object(p.jsx)(l.Col,{xs:2,md:2,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"STATO"})})}),Object(p.jsx)(l.Col,{xs:2,md:2,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"TIPO DI AVVIO"})})}),Object(p.jsx)(l.Col,{xs:2,md:2,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"TIPO DI SERVIZIO"})})})]})],i=["","Stop","Start (pending)","Stop (pending)","Running","Continue (pending)","In pausa (pending)","In pausa"],a=["Boot","System","Automatico","Manuale","Disabilitato"],o=[];o[1]="KernelDriver",o[2]="FileSystemDriver",o[4]="Adapter",o[8]="RecognizerDriver",o[16]="Win32OwnProcess",o[32]="Win32ShareProcess",o[256]="InteractiveProcess",t.map((function(e,t){n=e.hasOwnProperty("monitora")?c(n,e.nome_servizio,e.stato,t+1,i,a,o,e.start_type,e.service_type,e.monitora):c(n,e.nome_servizio,e.stato,t+1,i,a,o,e.start_type,e.service_type,null)}));l.Col,Math.ceil(e.services[3]/pe);return n},i=function(n,i){var c,a=!0;c=1==i||"true"==i?"false":"true";var o=Tt("Modifica monitoraggio servizi...");(function(e,t,n,i){return bt.post(Fe,{id_client:String(n),token:e,nome_servizio:t,monitora:i})})(e.token,n,e.id_client,c).then((function(n){if(xe(n.data.messageCode)&&(It(o),Et("Sessione scaduta"),e.TotalReset(),a=!1),0!=a){var i=e.token;fe(e.token,n.data.token)&&(e.UpdateToken(n.data.token),i=n.data.token),t(),xt(i,e.id_client).then((function(t){It(o),e.SetOverviewServizi(t.data.n_totali,t.data.n_running,t.data.n_stopped,t.data.n_monitorati)})).catch((function(e){It(o),Et(String(e))}))}})).catch((function(e){It(o),Et(String(e))}))},c=function(e,t,n,c,a,o,s,r,d,u){return e=c%2!=1?1==u?[e,Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-1 col-xs-1",children:Object(p.jsx)("input",{type:"checkbox",onChange:function(){return i(t,!0)},id:"monitora"+t,name:"monitora"+t,value:"monitora"+t,defaultChecked:"checked"},Math.random()+t)}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-5 col-xs-5",children:Object(p.jsx)("p",{children:t})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:a[parseInt(n)]})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:o[parseInt(r)]})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:s[parseInt(d)]})})]})]:[e,Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-1 col-xs-1",children:Object(p.jsx)("input",{type:"checkbox",onChange:function(){return i(t,!1)},id:"monitora"+t,name:"monitora"+t,value:"monitora"+t,autocomplete:"off"},Math.random()+t)}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-5 col-xs-5",children:Object(p.jsx)("p",{children:t})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:a[parseInt(n)]})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:o[parseInt(r)]})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:s[parseInt(d)]})})]})]:1==u?[e,Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-1 col-xs-1",children:Object(p.jsx)("input",{type:"checkbox",onChange:function(){return i(t,!0)},id:"monitora"+t,name:"monitora"+t,value:"monitora"+t,defaultChecked:"checked"},Math.random()+t)}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-5 col-xs-5",children:Object(p.jsx)("p",{children:t})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:a[parseInt(n)]})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:o[parseInt(r)]})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:s[parseInt(d)]})})]})]:[e,Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-1 col-xs-1",children:Object(p.jsx)("input",{type:"checkbox",onChange:function(){return i(t,!1)},id:"monitora"+t,name:"monitora"+t,value:"monitora"+t,autocomplete:"off"},Math.random()+t)}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-5 col-xs-5",children:Object(p.jsx)("p",{children:t})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:a[parseInt(n)]})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:o[parseInt(r)]})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:s[parseInt(d)]})})]})]};return Object(p.jsx)(l.Box,{title:"Lista dei servizi di Windows",type:"primary",collapsable:!0,footer:Object(p.jsx)(_,{title:"Gestione dei servizi di Windows",linkClass:"clickable",childs:e.services_list,action:function(){return t()}}),children:Object(p.jsxs)(l.Col,{md:12,xs:12,children:[Object(p.jsxs)("h4",{children:[Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","check-circle"]})," Servizi monitorati: ",e.services[0]]}),Object(p.jsxs)("h4",{children:[Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","play-circle"]})," Servizi in esecuzione: ",e.services[1]]}),Object(p.jsxs)("h4",{children:[Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","times-circle"]})," Servizi non in esecuzione: ",e.services[2]]})]})})})),Wt=n(11),Ht=n(22),Gt=n.n(Ht),Zt=Object(r.b)((function(e){return{client_list:e.client_list,token:e.token,events_list:e.events_list}}),(function(e){return{EventsList:function(t){e({type:w,eventsList:t})},TotalReset:function(){e(ce())},UpdateToken:function(t){e(ae(t))}}}))((function(e){var t=c.a.useState({currentSlot:[1,1,1,1]}),n=Object(u.a)(t,2),i=n[0],a=n[1],o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,1,1,1],n=!0,i=Tt("Caricamento...");Ot(e.token,e.id_client,"A",t[0]).then((function(c){if(xe(c.data.messageCode)&&(It(i),Et("Sessione scaduta"),e.TotalReset(),n=!1),0!=n){var a=e.token;fe(e.token,c.data.token)&&(e.UpdateToken(c.data.token),a=c.data.token),It(i);var o=c.data.eventi;0!=o.length&&Oe("date_and_time_evento",!1,o),Ot(a,e.id_client,"C",t[1]).then((function(n){It(i);var c=n.data.eventi;0!=c.length&&Oe("date_and_time_evento",!1,c),Ot(a,e.id_client,"H",t[2]).then((function(n){It(i);var l=n.data.eventi;0!=l.length&&Oe("date_and_time_evento",!1,l),Ot(a,e.id_client,"S",t[3]).then((function(t){It(i);var n=t.data.eventi;0!=n.length&&Oe("date_and_time_evento",!1,n);var a=[].concat(Object(Wt.a)(o),Object(Wt.a)(c),Object(Wt.a)(l),Object(Wt.a)(n)),s=r(a);e.EventsList(s)})).catch((function(e){It(i),Et(String(e))}))})).catch((function(e){It(i),Et(String(e))}))})).catch((function(e){It(i),Et(String(e))}))}})).catch((function(e){It(i),Et(String(e))}))},s=function(e,t,n,i){var c="";switch(t){case 0:c="A";break;case 1:c="C";break;case 2:c="H";break;case 3:c="S"}0==n?e[t]>1&&(e[t]--,a((function(t){return Object(d.a)(Object(d.a)({},t),{},{currentSlot:e})})),console.log(e),o(e)):e[t]<Math.ceil(i[c]/pe)&&(e[t]++,a((function(t){return Object(d.a)(Object(d.a)({},t),{},{currentSlot:e})})),console.log(e),o(e))},r=function(t){var n="Nessun dato disponibile.";0!=t.length&&(n=t[0].date_and_time);var c=[Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(l.Col,{className:"popminwidth col-md-12 col-xs-12",children:["Ultimo aggiornamento: ",_e(n),Object(p.jsx)("hr",{})]})})],a=["","Error","Warning","","Information","","","","SuccessAudit","","","","","","","","FailureAudit"];t.sort((function(e,t){return e.sottocategoria.localeCompare(t.sottocategoria)}));for(var o=[!1,!1,!1,!1],r="",d="",u=0,b=function(n){switch(0==n&&(u=e.tot_per_sottocategoria.A),1==n&&(u=e.tot_per_sottocategoria.C),2==n&&(u=e.tot_per_sottocategoria.H),3==n&&(u=e.tot_per_sottocategoria.S),void 0==u&&(u=0),o[n]=!0,n){case 0:r="Application",d="A";break;case 1:r="Security",d="C";break;case 2:r="Hardware",d="H";break;case 3:r="System",d="S"}c=[c,Object(p.jsx)("div",{class:"winServices",children:Object(p.jsxs)(Gt.a,{onOpen:function(){return function(e){var t=document.getElementsByClassName("arrowAccordion"+e)[0];t.style.transform="rotate(90deg)",t.style.transition="transform 1s ease",t.style.display="inline-block"}(n)},onClose:function(){return function(e){var t=document.getElementsByClassName("arrowAccordion"+e)[0];t.style.transform="rotate(0deg)",t.style.transition="transform 1s ease",t.style.display="inline-block"}(n)},trigger:Object(p.jsx)("div",{className:"clickable",children:Object(p.jsxs)("h4",{children:[Object(p.jsx)("span",{className:"arrowAccordion"+n,children:Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","chevron-right"]})})," ",r," (",u,")"]})}),children:[Object(p.jsx)(l.Col,{xs:2,md:2,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"LEVEL"})})}),Object(p.jsx)(l.Col,{xs:3,md:3,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"DATA E ORA"})})}),Object(p.jsx)(l.Col,{xs:2,md:2,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"SOURCE"})})}),Object(p.jsx)(l.Col,{xs:1,md:1,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"ID"})})}),Object(p.jsx)(l.Col,{xs:4,md:4,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"DESCRIZIONE"})})}),t.map((function(e,t){return m(e.level,e.source,e.id_event,e.task_category,e.info,t,a,d,e.sottocategoria,e.date_and_time_evento)})),Object(p.jsxs)(l.Col,{className:"col-xs-12 col-md-12 reactPaginate",children:[Object(p.jsx)("br",{}),Object(p.jsxs)("div",{class:"btn-group",role:"group","aria-label":"Basic example",children:[Object(p.jsx)("button",{type:"button",class:"btn btn-secondary",onClick:function(){return s(Math.ceil(u/pe)-i.currentSlot+1,n,!1,e.tot_per_sottocategoria)},children:"\u2190 Precedente"}),Object(p.jsxs)("button",{type:"button",class:"btn btn-secondary",children:[i.currentSlot[n],"/",Math.ceil(u/pe)]}),Object(p.jsx)("button",{type:"button",class:"btn btn-secondary",onClick:function(){return s(Math.ceil(u/pe)-i.currentSlot+1,n,!0,e.tot_per_sottocategoria)},children:"Successivo \u2192"})]})]})]})})]},_=0;_<4;_++)b(_);return c},m=function(e,t,n,i,c,a,o,s,r,d){""==c&&(c=" ");var u=a%2==1;return s==r?1==u?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:o[parseInt(e)]})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-3 col-xs-3",children:Object(p.jsx)("p",{children:_e(d)})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:t})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-1 col-xs-1",children:Object(p.jsx)("p",{children:n})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-4 col-xs-4",children:Object(p.jsx)("p",{children:c})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:o[parseInt(e)]})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-3 col-xs-3",children:Object(p.jsx)("p",{children:_e(d)})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("p",{children:t})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-1 col-xs-1",children:Object(p.jsx)("p",{children:n})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-4 col-xs-4",children:Object(p.jsx)("p",{children:c})})]}):Object(p.jsx)(p.Fragment,{})};return Object(p.jsx)(l.Box,{title:"Lista degli eventi di Windows",type:"primary",collapsable:!0,footer:Object(p.jsx)(_,{title:"Gestione degli eventi di Windows",linkClass:"clickable",childs:e.events_list,action:function(){return o()}}),children:Object(p.jsxs)(l.Col,{md:12,xs:12,children:[Object(p.jsxs)("h4",{children:[Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","times-circle"]})," Problemi rilevati oggi: ",e.events[0]]}),Object(p.jsxs)("h4",{children:[Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","exclamation-circle"]})," Warnings rilevati oggi: ",e.events[1]]})]})})})),Yt=n(42),qt=n(43),Xt=n.n(qt);Object(r.b)((function(e){return{client_list:e.client_list,token:e.token,services_list:e.services_list}}),(function(e){return{ServicesList:function(t){e(K(t))}}}))((function(e){var t=function(e){var t=[Object(p.jsx)("p",{class:"infoDisabled",children:"* Operazione non selezionabile con la licenza in uso."})];return e.map((function(e,i){switch(e.stato){case"0":t=n(t,e.nome,!1,i+1);break;default:t=n(t,e.nome,!0,i+1)}})),t},n=function(e,t,n,i){return e=[e,Object(p.jsxs)(Gt.a,{onOpen:function(){return function(e){var t=document.getElementsByClassName("arrowAccordion"+e)[0];t.style.transform="rotate(90deg)",t.style.transition="transform 1s ease",t.style.display="inline-block"}(i)},onClose:function(){return function(e){var t=document.getElementsByClassName("arrowAccordion"+e)[0];t.style.transform="rotate(0deg)",t.style.transition="transform 1s ease",t.style.display="inline-block"}(i)},trigger:Object(p.jsx)("div",{className:"clickable",children:Object(p.jsxs)("h4",{children:[Object(p.jsx)("span",{className:"arrowAccordion"+i,children:Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","chevron-right"]})})," ",t]})}),children:[n?Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"checkbox",checked:!0})," ",Object(p.jsx)("label",{children:"Abilita operazione"})]}):Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"checkbox"})," ",Object(p.jsx)("label",{children:"Abilita operazione"})]}),Object(p.jsx)("h5",{children:"Descrizione:"})]})]};return Object(p.jsx)(l.Box,{title:"Lista delle operazioni",type:"primary",collapsable:!0,footer:Object(p.jsx)(_,{title:"Gestione delle operazioni",linkClass:"clickable",childs:e.services_list,action:function(){return function(n,i){var c=Tt("Caricamento...");Xt.a.post(Yt.url_lista_serviziFake,{nome_client:n}).then((function(n){It(c);var i=t(n.data.servizi);e.ServicesList(i)})).catch((function(e){It(c),Et(String(e))}))}(e.selected,e.token)}}),children:Object(p.jsxs)(l.Col,{md:12,xs:12,children:[Object(p.jsxs)("h4",{children:[Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","check-circle"]})," Operazioni attive: ",e.ops[0]]}),Object(p.jsxs)("h4",{children:[Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","times-circle"]})," Operazioni con problemi: ",e.ops[2]]}),Object(p.jsxs)("h4",{children:[Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","exclamation-circle"]})," Operazioni con warnings: ",e.ops[3]]})]})})}));document.body.classList.add("fixed");var Jt=Object(r.b)((function(e){return{last_insert_date:e.client_template.last_insert_date,client_template:e.client_template,client_list:e.client_list,nome_company:e.nome_company,token:e.token,logged:e.logged,n_totali:e.n_totali,n_running:e.n_running,n_stop:e.n_stop,n_monitorati:e.n_monitorati,clientOverview:{problems:3,warnings:12,running:44},drives:[{driveLabel:"C",occupiedSpace:93,totalSpace:250,lastUpdate:"12 Feb 17:54"},{driveLabel:"D",occupiedSpace:22,totalSpace:250,lastUpdate:"12 Feb 18:01"}],apex:{lastUpdate:"12 Feb 18:00",options:{chart:{id:"basic-bar"},xaxis:{categories:["17:00","17:05","17:10","17:15","17:20","17:25","17:30","17:35","17:40","17:45","17:50","17:55","18:00"]},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},dataLabels:{enabled:!1}},colors:["#dd4b39","#f39c12"],series:[{name:"Warnings",data:[15,16,10,9,3,2,8,3,16,14,12,10,12],color:"#f39c12"},{name:"Problemi",data:[5,4,5,8,3,3,3,5,4,2,1,0,3],color:"#dd4b39"}]}}}),(function(e){return{SetClientTemplateWindowsServices:function(t,n,i,c){e(Q(t,n,i,c))},SetClientTemplateWindowsEvents:function(t,n){e(function(e,t){return{type:A,windows_events:{n_problemi:e,n_warnings:t}}}(t,n))},SetClientTemplateInfo:function(t){e($(t))},ResetClientTemplate:function(){e(te())},SetClientTemplateAlert:function(t){e(ee(t))},SetClientTemplateOverview:function(t,n,i){e({type:D,overview:{problemi:t,warnings:n,ok:i}})},UpdateClientHistory:function(t){e(function(e){return{type:V,history_data:e}}(t))},TotalReset:function(){e(ce())},UpdateToken:function(t){e(ae(t))},GetLastDate:function(t){e(function(e){return{type:q,date:e}}(t))}}}))((function(e){var t=c.a.useState({clientData:null,problemi_oggi:0,warning_oggi:0,tot_per_sottocategoria:[],drives:[]}),n=Object(u.a)(t,2),a=n[0],o=n[1],s=function(t){var n,i,c,a=Tt("Caricamento...");(n=e.id_client,i=e.id_company,c=e.token,bt.post(Me,{id_client:String(n),id_company:String(i),token:c})).then((function(n){if(xe(n.data.messageCode)&&(It(a),Et("Sessione scaduta"),e.TotalReset(),t=!1),0!=t){var i=e.token;fe(e.token,n.data.token)&&(e.UpdateToken(n.data.token),i=n.data.token),e.SetClientTemplateInfo(n.data),o((function(e){return Object(d.a)(Object(d.a)({},e),{},{clientData:n.data})})),function(e,t){return bt.post(Ue,{id_client:String(t),token:e})}(i,e.id_client).then((function(t){e.SetClientTemplateWindowsEvents(t.data.problemi_oggi,t.data.warning_oggi),o((function(e){return Object(d.a)(Object(d.a)({},e),{},{problemi_oggi:t.data.problemi_oggi,warning_oggi:t.data.warning_oggi,tot_per_sottocategoria:t.data.tot_per_sottocategoria})})),function(e,t){return bt.post(We,{id_client:String(t),token:e})}(i,e.id_client).then((function(t){o((function(e){return Object(d.a)(Object(d.a)({},e),{},{drives:t.data.drives})})),vt(i,e.id_client).then((function(t){e.SetClientTemplateAlert(t.data.alerts),xt(i,e.id_client).then((function(t){e.SetClientTemplateWindowsServices(t.data.n_totali,t.data.n_running,t.data.n_stopped,t.data.n_monitorati),yt(i,e.id_client).then((function(t){e.SetClientTemplateOverview(t.errori,t.warnings,t.ok),Ct(i,e.id_client).then((function(t){e.UpdateClientHistory(t),function(e,t){return bt.post(nt,{id_client:String(e),token:t})}(e.id_client,i).then((function(t){It(a),e.GetLastDate(t.data.maxDate)})).catch((function(e){It(a),Et(String(e))}))})).catch((function(e){It(a),Et(String(e))}))})).catch((function(e){It(a),Et(String(e))}))})).catch((function(e){It(a),Et(String(e))}))})).catch((function(e){It(a),Et(String(e))}))}))})).catch((function(e){It(a),Et(String(e))}))}})).catch((function(e){It(a),Et(String(e))}))};Object(i.useEffect)((function(){e.ResetClientTemplate(),s(true);var t=setInterval((function(){s(true)}),6e4);return function(){clearInterval(t)}}),[]);var r=function(e,t){var n=["servizi","eventi","drives"];return[Object(p.jsx)("div",{className:"col-md-12 col-xs-12",children:e.map((function(e,i){return i%2==1?Object(p.jsxs)(l.Row,{children:[Object(p.jsx)(l.Col,{className:"oddColor col-md-6 col-xs-6",children:Object(p.jsxs)("h4",{children:["Numero di ",Object(p.jsx)("strong",{children:n[i]})," che presentano ",t,":"]})}),Object(p.jsx)(l.Col,{className:"oddColor col-md-6 col-xs-6",children:Object(p.jsxs)("h4",{children:[e," "]})})]}):Object(p.jsxs)(l.Row,{children:[Object(p.jsx)(l.Col,{className:"evenColor col-md-6 col-xs-6",children:Object(p.jsxs)("h4",{children:["Numero di ",Object(p.jsx)("strong",{children:n[i]})," che presentano ",t,":"]})}),Object(p.jsx)(l.Col,{className:"evenColor col-md-6 col-xs-6",children:Object(p.jsxs)("h4",{children:[e," "]})})]})}))})]};return null!=a.clientData?Object(p.jsx)(l.Content,{title:e.title,subTitle:e.last_insert_date&&"Ultimo inserimento: "+e.last_insert_date.replace("T"," ").substring(0,19),browserTitle:e.title,children:Object(p.jsx)(l.Row,{children:Object(p.jsxs)(m.b,{children:[Object(p.jsx)(h,{size:4,titles:["Problemi","Warnings","Problemi e warning risolti"],problems:e.client_template.overview.problemi.map((function(e){return e})).reduce((function(e,t){return e+t}),0),warnings:e.client_template.overview.warnings.map((function(e){return e})).reduce((function(e,t){return e+t}),0),running:e.client_template.overview.ok.map((function(e){return e})).reduce((function(e,t){return e+t}),0),popUpChildsWarnings:r(e.client_template.overview.warnings,"warnings"),popUpChildsProblemi:r(e.client_template.overview.problemi,"problemi"),idClientsWarnings:[],idClientsProblemi:[],isHome:!1}),Object(p.jsxs)(l.Col,{md:8,xs:12,children:[Object(p.jsx)(Lt,{id_client:e.id_client}),Object(p.jsx)(Rt,{apex:e.client_template.history})]}),Object(p.jsx)(l.Col,{md:4,xs:6,children:Object(p.jsx)(Bt,{client:e.client_template.info,id_client:e.id_client})}),a.drives!=[]?a.drives.map((function(e){return Object(p.jsx)(l.Col,{md:4,xs:6,children:Object(p.jsx)(Pt,{driveLabel:e.driveLabel,occupiedSpace:e.occupiedSpace,lastUpdate:e.lastUpdate,totalSpace:e.totalSpace})})})):Object(p.jsx)(p.Fragment,{}),Object(p.jsx)(l.Col,{md:4,xs:6,children:Object(p.jsx)(Vt,{selected:e.title,id_client:e.id_client,services:[e.client_template.windows_services.n_monitorati,e.client_template.windows_services.n_esecuzione,e.client_template.windows_services.n_stop,e.client_template.windows_services.n_totali]})}),Object(p.jsx)(l.Col,{md:4,xs:6,children:Object(p.jsx)(Zt,{selected:e.title,id_client:e.id_client,events:[e.client_template.windows_events.n_problemi,e.client_template.windows_events.n_warnings],tot_per_sottocategoria:a.tot_per_sottocategoria})})]})})}):Object(p.jsx)(p.Fragment,{})})),Kt=n(67),Qt=(n(138),n(144)),$t=Object(r.b)((function(e){return{company_template:e.company_template,token:e.token,id_company:e.id_company}}),(function(e){return{UpdateClientLicenses:function(t,n){e(function(e,t){return{type:H,license:e,id_client:t}}(t,n))},TotalReset:function(){e(ce())},UpdateToken:function(t){e(ae(t))}}}))((function(e){var t=Object(i.useState)(0),n=Object(u.a)(t,2),c=n[0],a=n[1],o=function(t){e.company_template.licensesList.filter((function(t){return!e.client.classe_licenza.includes(t.classe)})).forEach((function(e,n){n==t.target.value&&a({codice:e.codice,classe:e.classe})}))},l=function(){var t,n,i,a,o=!0;if(0!=c){var l=Tt("Assegnando la licenza...");(t=e.client.id_client,n=e.token,i=c.codice,a=e.id_company,bt.post($e,{id_client:String(t),token:n,codice:i,id_company:String(a)})).then((function(t){if(xe(t.data.messageCode)&&(It(l),Et("Sessione scaduta"),e.TotalReset(),o=!1),0!=o){e.token;fe(e.token,t.data.token)&&(e.UpdateToken(t.data.token),t.data.token),e.UpdateClientLicenses(c.classe,e.client.id_client),It(l)}})).catch((function(e){It(l),Et(String(e))}))}else Et(String("Selezionare una licenza"))};return e.idx%2==1?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(St.a,{className:"oddColor vertical-aligner col-md-3 col-xs-3",children:Object(p.jsx)("h4",{children:e.client.nome_client})}),Object(p.jsx)(St.a,{className:"oddColor col-md-4 col-xs-4",children:e.client.classe_licenza.map((function(t){return e.options.map((function(e){return e.value==t?Object(p.jsx)("div",{children:e.label}):Object(p.jsx)(p.Fragment,{})}))}))}),Object(p.jsx)(St.a,{className:"oddColor vertical-aligner col-md-3 col-xs-3",children:Object(p.jsxs)("select",{onChange:o,children:[Object(p.jsx)("option",{value:0,selected:!0,hidden:!0,disabled:!0,children:"Seleziona una licenza"}),e.company_template.licensesList.filter((function(t){return!e.client.classe_licenza.includes(t.classe)})).map((function(e,t){return Object(p.jsx)("option",{value:t,children:e.tipologia})}))]})}),Object(p.jsx)(St.a,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("button",{onClick:l,class:"btn btn-primary",type:"button",children:"Assegna"})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(St.a,{className:"evenColor vertical-aligner col-md-3 col-xs-3",children:Object(p.jsx)("h4",{children:e.client.nome_client})}),Object(p.jsx)(St.a,{className:"evenColor col-md-4 col-xs-4",children:e.client.classe_licenza.map((function(t){return e.options.map((function(e){return e.value==t?Object(p.jsx)("div",{children:e.label}):Object(p.jsx)(p.Fragment,{})}))}))}),Object(p.jsx)(St.a,{className:"evenColor vertical-aligner col-md-3 col-xs-3",children:Object(p.jsxs)("select",{onChange:o,children:[Object(p.jsx)("option",{value:0,selected:!0,hidden:!0,disabled:!0,children:"Seleziona una licenza"}),e.company_template.licensesList.filter((function(t){return!e.client.classe_licenza.includes(t.classe)})).map((function(e,t){return Object(p.jsx)("option",{value:t,children:e.tipologia})}))]})}),Object(p.jsx)(St.a,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("button",{onClick:l,class:"btn btn-primary",type:"button",children:"Assegna"})})]})})),en=Object(r.b)((function(e){return{options:[{name:oe.label,id:oe.tipo},{name:le.label,id:le.tipo},{name:re.label,id:re.tipo},{name:de.label,id:de.tipo},{name:se.label,id:se.tipo}],selectedValue:e.licensesList,licensesList:e.licensesList,token:e.token,id_company:e.id_company,company_template:e.company_template,client_list:e.client_list}}),(function(e){return{AddLicense:function(t){e(function(e){return{type:f,license:e}}(t))},RemoveLicense:function(t){e(function(e){return{type:v,license:e}}(t))},CompanyTemplateLicenze:function(t){e(ne(t))},TotalReset:function(){e(ce())},UpdateToken:function(t){e(ae(t))}}}))((function(e){Object(i.useEffect)((function(){}),[]);var t=c.a.useState({selectedValue:0,selectedLicense:[]}),n=Object(u.a)(t,2),a=n[0],o=n[1],s=function(){console.log(a.selectedValue);var t,n,i,c=!0,o=Tt("Acquistando la licenza...");return(t=e.token,n=e.id_company,i=a.selectedValue,bt.post(qe,{id_company:String(n),classe_licenza:String(i),token:t})).then((function(t){if(xe(t.data.messageCode)&&(It(o),Et("Sessione scaduta"),e.TotalReset(),c=!1),0!=c){var n=e.token;fe(e.token,t.data.token)&&(e.UpdateToken(t.data.token),n=t.data.token),zt(t.data.message),ht(e.id_company,n).then((function(t){e.CompanyTemplateLicenze(t.data.licenzeShallow),It(o)})).catch((function(e){It(o),Et(String(e))}))}})).catch((function(e){It(o),Et(String(e))}))},r=function(e){o((function(){return Object(d.a)(Object(d.a)({},a),{},{selectedValue:e.value})}))};return Object(p.jsxs)(l.Box,{title:e.title,type:"primary",collapsable:!0,footer:Object(p.jsx)("span",{href:"#",className:"small-box-footer",children:Object(p.jsx)(_,{title:"Gestione delle licenze",linkClass:"clickable",childs:function(){var t=[{value:"1",label:"SISTEMA OPERATIVO"},{value:"2",label:"BACKUP"},{value:"3",label:"ANTIVIRUS"},{value:"4",label:"RETE"},{value:"5",label:"VUNERABILITA'"}];return[Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{xs:8,md:6,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h4",{children:"CODICE LICENZA"})})}),Object(p.jsx)(l.Col,{xs:4,md:6,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h4",{children:"CATEGORIA"})})}),e.company_template.licensesList.map((function(e,t){return t%2==1?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{xs:8,md:6,className:"oddColor vertical-aligner col-md-6 col-xs-8",children:e.codice}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-6 col-xs-4",xs:4,md:6,children:e.tipologia},t)]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{xs:8,md:6,className:"evenColor vertical-aligner col-md-6 col-xs-8",children:e.codice}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-6 col-xs-4",xs:4,md:6,children:e.tipologia},t)]})})),Object(p.jsx)(l.Col,{xs:12,md:12,children:Object(p.jsx)("p",{})}),Object(p.jsx)(l.Col,{xs:8,md:6,children:0==a.selectedValue?Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return s()},disabled:!0,children:"Acquista licenza"}):Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return s()},children:"Acquista licenza"})}),Object(p.jsx)(l.Col,{xs:4,md:6,children:Object(p.jsx)(Mt.a,{options:t,onChange:r,placeholder:"Seleziona una tipologia"})}),Object(p.jsx)(l.Col,{xs:12,md:12,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h4",{children:"ASSEGNA LICENZE"})})}),Object(p.jsxs)(Qt.a,{children:[Object(p.jsx)(l.Col,{xs:3,md:3,children:Object(p.jsx)("h4",{children:"NOME CLIENT"})}),Object(p.jsx)(l.Col,{xs:4,md:4,children:Object(p.jsx)("h4",{children:"LICENZE IN USO"})})]}),e.client_list.map((function(e,n){return Object(p.jsx)($t,{idx:n,client:e,options:t},n)}))]})]}(),action:function(){return console.log("action")}})}),children:[Object(p.jsx)(Kt.Multiselect,{placeholder:"Filtra per tipologia",emptyRecordMsg:"Nessun filtro disponibile",hidePlaceholder:"true",closeIcon:"cancel",options:e.options,selectedValues:e.selectedValue,onSelect:function(t,n){e.AddLicense(t)},onRemove:function(t,n){e.RemoveLicense(t)},displayValue:"name"}),Object(p.jsx)("br",{}),e.company_template.licensesList.map((function(t,n){return JSON.stringify(e.licensesList).toUpperCase().includes(t.tipologia.toUpperCase())?Object(p.jsxs)("div",{children:[Object(p.jsx)(l.Col,{xs:8,md:6,children:t.codice}),Object(p.jsx)(l.Col,{xs:4,md:6,children:t.tipologia})]},n):Object(p.jsx)(p.Fragment,{})})),"[]"===JSON.stringify(e.licensesList)?Object(p.jsx)(l.Col,{xs:12,children:"Nessuna licenza trovata in base ai filtri selezionati."}):Object(p.jsx)(p.Fragment,{})]})})),tn=Object(r.b)((function(e){return{client_list:e.client_list,nome_company:e.company_template.company_data.ragione_sociale,token:e.token,logged:e.logged,id_company:e.id_company,emailNotify:e.company_template.company_data.emailNotify,email:e.company_template.company_data.email,lista_sedi:e.company_template.company_data.n_sedi,listaNomiSedi:e.lista_nomi_sedi,lista_id_sedi:e.lista_id_sedi}}),(function(e){return{UpdateCompanyData:function(t,n,i,c){e(function(e,t,n,i){return{type:z,nome_company:e,email:t,emailNotify:n,token:i}}(t,n,i,c))},UpdateListaSedi:function(t,n,i){e(function(e,t,n){return{type:T,listaNomi:e,token:t,listaId:n}}(t,n,i))},UpdateToken:function(t){e(ae(t))},TotalReset:function(){e(ce())},FixSedi:function(t,n,i){var c=[];t.map((function(e){n.map((function(t,n){e.sede!==t&&e.sede!==i[n]||(e.sede=String(i[n]),c.push(e))}))})),e(ie(c))}}}))((function(e){var t=c.a.useState({emailLogin:"",emailLogin2:"",pswLogin:"",nuovaSede:"",sedeDaCancellare:""}),n=Object(u.a)(t,2),a=n[0],o=n[1],s=function(){var t=!0,n=""==a.emailLogin?e.email:a.emailLogin,i=""==a.emailLogin2?e.emailNotify:a.emailLogin2,c=""==a.pswLogin?e.nome_company:a.pswLogin,o=Tt("Modificando i dati...");return function(e,t,n,i,c){return bt.post(Ee,{id_company:e,token:t,email:n,emailAlert:i,ragioneSociale:c})}(e.id_company,e.token,n,i,c).then((function(a){if(xe(a.data.messageCode)&&(It(o),Et("Sessione scaduta"),e.TotalReset(),t=!1),0!=t){var l=e.token;fe(e.token,a.data.token)&&(e.UpdateToken(a.data.token),l=a.data.token),It(o);var s=""==a.data.token||null==a.data.token?l:a.data.token;e.UpdateCompanyData(c,n,i,s),zt("Dati modificati correttamente.")}})).catch((function(e){It(o),Et(String(e))}))},r=function(){var t=!0,n=a.nuovaSede,i=Tt("Aggiungendo una nuova sede...");return function(e,t,n){return bt.post(Ge,{id_company:String(t),nome:n,token:e})}(e.token,e.id_company,n).then((function(n){if(xe(n.data.messageCode)&&(It(i),Et("Sessione scaduta"),e.TotalReset(),t=!1),0!=t){var c=e.token;fe(e.token,n.data.token)&&(e.UpdateToken(n.data.token),c=n.data.token),ft(c,e.id_company).then((function(t){It(i);var n=""==t.data.token||null==t.data.token?c:t.data.token,a=[],o=[];t.data.sedi.map((function(e){a.push(e.substring(e.indexOf(",")+1,e.length)),o.push(e.substring(0,e.indexOf(",")))})),new Promise((function(t,i){e.UpdateListaSedi(a,n,o),t()})).then((function(t){var n=e.client_list,i=[];n.map((function(t){e.listaNomiSedi.map((function(n,c){t.sede!==n&&t.sede!==e.lista_id_sedi[c]||(t.sede=String(e.lista_id_sedi[c]),i.push(t))}))})),e.FixSedi(i,e.listaNomiSedi,e.lista_id_sedi)}),(function(e){})),zt("Sede aggiunta correttamente.")})).catch((function(e){Et(String(e))}))}})).catch((function(e){It(i),Et(String(e))}))},j=function(t){var n=!0;t.preventDefault();var i=a.sedeDaCancellare,c=Tt("Rimuovendo la sede...");return function(e,t,n){return bt.post(Ze,{id_company:String(t),nome:n,token:e})}(e.token,e.id_company,i).then((function(t){if(xe(t.data.messageCode)&&(It(c),Et("Sessione scaduta"),e.TotalReset(),n=!1),0!=n){e.token;fe(e.token,t.data.token)&&(e.UpdateToken(t.data.token),t.data.token),t.data.messageCode!=ue?(It(c),Et(String(t.data.message))):ft(e.token,e.id_company).then((function(t){It(c);var n=""==t.data.token||null==t.data.token?e.token:t.data.token,i=[],a=[];t.data.sedi.map((function(e){i.push(e.substring(e.indexOf(",")+1,e.length)),a.push(e.substring(0,e.indexOf(",")))})),new Promise((function(t,c){e.UpdateListaSedi(i,n,a),t()})).then((function(t){var n=e.client_list,i=[];n.map((function(t){e.listaNomiSedi.map((function(n,c){t.sede!==n&&t.sede!==e.lista_id_sedi[c]||(t.sede=String(e.lista_id_sedi[c]),i.push(t))}))})),e.FixSedi(i,e.listaNomiSedi,e.lista_id_sedi)}),(function(e){})),zt("Sede rimossa correttamente.")})).catch((function(e){Et(String(e))}))}})).catch((function(e){It(c),Et(String(e))}))},m=function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{emailLogin:e.target.value})}))},b=function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{emailLogin2:e.target.value})}))},h=function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{pswLogin:e.target.value})}))},g=function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{nuovaSede:e.target.value})}))},O=function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{sedeDaCancellare:e.value})}))};Object(i.useEffect)((function(){ft(e.token,e.id_company).then((function(t){var n=""==t.data.token||null==t.data.token?e.token:t.data.token,i=[],c=[];t.data.sedi.map((function(e){i.push(e.substring(e.indexOf(",")+1,e.length)),c.push(e.substring(0,e.indexOf(",")))})),new Promise((function(t,a){e.UpdateListaSedi(i,n,c),t()})).then((function(t){e.client_list;var n=[];e.client_list.map((function(t){e.listaNomiSedi.map((function(i,c){t.sede!==i&&t.sede!==e.lista_id_sedi[c]||(t.sede=String(e.lista_id_sedi[c]),n.push(t))}))})),e.FixSedi(n,e.listaNomiSedi,e.lista_id_sedi)}),(function(e){}))})).catch((function(e){Et(String(e))}))}),[]);return Object(p.jsx)(l.Box,{title:"Dati aziendali",type:"primary",collapsable:!0,footer:Object(p.jsx)("span",{href:"#",className:"small-box-footer",children:Object(p.jsx)(_,{title:"Modifica dati aziendali",linkClass:"clickable",childs:[Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"col-md-6 col-xs-12",children:[Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"LoginEmail1",children:"Indirizzo email"}),Object(p.jsx)("input",{type:"email",value:a.emailLogin,className:"form-control",id:"LoginEmail1","aria-describedby":"emailHelp",placeholder:e.email,onChange:m})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"LoginEmail2",children:"Indirizzo email per le comunicazioni"}),Object(p.jsx)("input",{type:"email",value:a.emailLogin2,className:"form-control",id:"LoginEmail2","aria-describedby":"emailHelp",placeholder:e.emailNotify,onChange:b})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"LoginPassword1",children:"Ragione Sociale"}),Object(p.jsx)("input",{value:a.pswLogin,className:"form-control",id:"LoginPassword1",placeholder:e.ragioneSociale,onChange:h})]})]}),Object(p.jsx)("center",{children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return s()},children:"Modifica"})})]}),Object(p.jsxs)("div",{className:"col-md-6 col-xs-12",children:[Object(p.jsxs)("form",{children:[Object(p.jsx)("div",{className:"col-md-12 col-xs-12",children:Object(p.jsx)("label",{children:"Lista delle sedi"})}),Object(p.jsx)("div",{className:"form-group col-md-8 col-xs-8",children:Object(p.jsx)(Mt.a,{onChange:O,options:e.listaNomiSedi,placeholder:"Seleziona una sede"})}),Object(p.jsx)("div",{className:"col-md-4 col-xs-4",children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(e){return j(e)},children:"Rimuovi"})})]}),Object(p.jsx)("form",{children:Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"AddPlace",children:"Aggiungi una nuova sede"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"AddPlace","aria-describedby":"AddPlace",onChange:g})]})}),Object(p.jsx)("center",{children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return r()},children:"Aggiungi"})})]})]})],action:function(){return console.log("action")}})}),children:Object(p.jsxs)(l.Col,{md:12,xs:12,children:[Object(p.jsxs)("h4",{children:[Object(p.jsx)("b",{children:"Indirizzo email: "}),e.email]}),Object(p.jsxs)("h4",{children:[Object(p.jsx)("b",{children:"Indirizzo email per le comunicazioni: "}),e.emailNotify]}),Object(p.jsxs)("h4",{children:[Object(p.jsx)("b",{children:"Ragione sociale: "}),e.ragioneSociale]}),Object(p.jsxs)("h4",{children:[Object(p.jsx)("b",{children:"Sedi registrate: "}),e.lista_sedi-1]}),Object(p.jsxs)("h4",{children:[Object(p.jsx)("b",{children:"Chiave di registrazione: "}),e.chiave]})]})})})),nn=Object(r.b)((function(e){return{token:e.token,id_company:e.id_company,lista_nomi_sedi:e.lista_nomi_sedi,lista_id_sedi:e.lista_id_sedi}}),(function(e){return{}}))((function(e){var t=[{tipo:1,label:"Sistema operativo"},{tipo:"2",label:"Backup"},{tipo:"3",label:"Antivirus"},{tipo:"4",label:"Rete"},{tipo:"5",label:"Vulnerabilita'"}],n=[{id_tipologia:1,tipologia:"Client"},{id_tipologia:2,tipologia:"Server"}],c=Object(i.useState)({tipologia:null,licenza:null,sede:null}),a=Object(u.a)(c,2),o=a[0],s=a[1],r=function(e){s(Object(d.a)(Object(d.a)({},o),{},{tipologia:e.target.value}))},j=function(e){s(Object(d.a)(Object(d.a)({},o),{},{licenza:e.target.value}))},m=function(e){s(Object(d.a)(Object(d.a)({},o),{},{sede:e.target.value}))},b=function(t){var n=Tt("Modifica monitoraggio servizi...");(function(e,t,n,i,c,a,o){return bt.post(at,{id_company:String(e),token:t,tipologia:n,licenza:i,sede:c,nome_servizio:a,monitora:o})})(e.id_company,e.token,o.tipologia,o.licenza,o.sede,e.nome_servizio,t).then((function(e){It(n),zt(e.data.message)})).catch((function(e){It(n),Et(String(e))}))};return e.index%2==1?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("h5",{children:e.nome_servizio})}),Object(p.jsx)(l.Col,{className:"oddColor noHorizontalPadding vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:r,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona tipologia"}),n.map((function(e){return Object(p.jsx)("option",{value:e.id_tipologia,children:e.tipologia})}))]})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:j,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona licenza"}),t.map((function(e){return Object(p.jsx)("option",{value:e.tipo,children:e.label})}))]})}),Object(p.jsx)(l.Col,{className:"oddColor noHorizontalPadding vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:m,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona sede"}),e.lista_nomi_sedi.map((function(t,n){return Object(p.jsx)("option",{value:e.lista_id_sedi[n],children:t})}))]})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return b(!0)},children:"Aggiungi a tutti"})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return b(!1)},children:"Rimuovi a tutti"})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("h5",{children:e.nome_servizio})}),Object(p.jsx)(l.Col,{className:"evenColor noHorizontalPadding vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:r,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona tipologia"}),n.map((function(e){return Object(p.jsx)("option",{value:e.id_tipologia,children:e.tipologia})}))]})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:j,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona licenza"}),t.map((function(e){return Object(p.jsx)("option",{value:e.tipo,children:e.label})}))]})}),Object(p.jsx)(l.Col,{className:"evenColor noHorizontalPadding vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:m,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona sede"}),e.lista_nomi_sedi.map((function(t,n){return Object(p.jsx)("option",{value:e.lista_id_sedi[n],children:t})}))]})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return b(!0)},children:"Aggiungi a tutti"})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return b(!1)},children:"Rimuovi a tutti"})})]})})),cn=Object(r.b)((function(e){return{token:e.token,id_company:e.id_company,lista_nomi_sedi:e.lista_nomi_sedi,lista_id_sedi:e.lista_id_sedi}}),(function(e){return{}}))((function(e){var t=[{tipo:1,label:"Sistema operativo"},{tipo:"2",label:"Backup"},{tipo:"3",label:"Antivirus"},{tipo:"4",label:"Rete"},{tipo:"5",label:"Vulnerabilita'"}],n=[{id_tipologia:1,tipologia:"Client"},{id_tipologia:2,tipologia:"Server"}],c=Object(i.useState)({tipologia:null,licenza:null,sede:null}),a=Object(u.a)(c,2),o=a[0],s=a[1],r=function(e){s(Object(d.a)(Object(d.a)({},o),{},{tipologia:e.target.value}))},j=function(e){s(Object(d.a)(Object(d.a)({},o),{},{licenza:e.target.value}))},m=function(e){s(Object(d.a)(Object(d.a)({},o),{},{sede:e.target.value}))},b=function(t){var n=Tt("Modifica monitoraggio servizi...");(function(e,t,n,i,c,a,o){return bt.post(ot,{id_company:String(e),token:t,tipologia:n,licenza:i,sede:c,nome_operazione:a,monitora:o})})(e.id_company,e.token,o.tipologia,o.licenza,o.sede,e.tipologia_alert,t).then((function(e){It(n),zt(e.data.message)})).catch((function(e){It(n),Et(String(e))}))};return e.index%2==1?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("h5",{children:ve(e.tipologia_alert)})}),Object(p.jsx)(l.Col,{className:"oddColor noHorizontalPadding vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:r,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona tipologia"}),n.map((function(e){return Object(p.jsx)("option",{value:e.id_tipologia,children:e.tipologia})}))]})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:j,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona licenza"}),t.map((function(e){return Object(p.jsx)("option",{value:e.tipo,children:e.label})}))]})}),Object(p.jsx)(l.Col,{className:"oddColor noHorizontalPadding vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:m,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona sede"}),e.lista_nomi_sedi.map((function(t,n){return Object(p.jsx)("option",{value:e.lista_id_sedi[n],children:t})}))]})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return b(!0)},children:"Aggiungi a tutti"})}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return b(!1)},children:"Rimuovi a tutti"})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("h5",{children:ve(e.tipologia_alert)})}),Object(p.jsx)(l.Col,{className:"evenColor noHorizontalPadding vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:r,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona tipologia"}),n.map((function(e){return Object(p.jsx)("option",{value:e.id_tipologia,children:e.tipologia})}))]})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:j,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona licenza"}),t.map((function(e){return Object(p.jsx)("option",{value:e.tipo,children:e.label})}))]})}),Object(p.jsx)(l.Col,{className:"evenColor noHorizontalPadding vertical-aligner col-md-2 col-xs-2",children:Object(p.jsxs)("select",{onChange:m,children:[Object(p.jsx)("option",{selected:!0,hidden:!0,disabled:!0,children:"Seleziona sede"}),e.lista_nomi_sedi.map((function(t,n){return Object(p.jsx)("option",{value:e.lista_id_sedi[n],children:t})}))]})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return b(!0)},children:"Aggiungi a tutti"})}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-2 col-xs-2",children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return b(!1)},children:"Rimuovi a tutti"})})]})})),an=Object(r.b)((function(e){return{token:e.token,id_company:e.id_company,lista_nomi_sedi:e.lista_nomi_sedi}}),(function(e){return{}}))((function(e){var t=Object(i.useState)(),n=Object(u.a)(t,2),c=n[0],a=n[1];Object(i.useEffect)((function(){var t,n,i=Tt("Caricamento...");(t=e.token,n=e.id_company,bt.post(rt,{id_company:String(n),token:t})).then((function(e){a(e.data.mailInterval),It(i)})).catch((function(e){It(i),Et(String(e))}))}),[]);return Object(p.jsx)(St.a,{xs:6,md:6,children:Object(p.jsxs)("form",{onChange:function(t){var n,i,c,a,o=Tt("Modifica intervallo mail..."),l=!1;0==t.target.value&&(l=!0),-1!=t.target.value?(n=e.token,i=t.target.value,c=e.id_company,a=l,bt.post(st,{id_company:String(c),token:n,fixedRate:i,stopTimer:a})).then((function(e){zt("Intervallo mail cambiato correttamente"),It(o)})).catch((function(e){It(o),Et(String(e))})):It(o)},children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"radio",value:0,id:"noMail",name:"interval",checked:0==c,onChange:function(e){a(e.target.value)}}),Object(p.jsx)("label",{for:"noMail",children:"Non desidero ricevere mail"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"radio",value:864e5,id:"1gg",name:"interval",checked:864e5==c,onChange:function(e){a(e.target.value)}}),Object(p.jsx)("label",{for:"1gg",children:"1 giorno"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"radio",value:2592e5,id:"3gg",name:"interval",checked:2592e5==c,onChange:function(e){a(e.target.value)}}),Object(p.jsx)("label",{for:"3gg",children:"3 giorni"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"radio",value:6048e5,id:"1sett",name:"interval",checked:6048e5==c,onChange:function(e){a(e.target.value)}}),Object(p.jsx)("label",{for:"1sett",children:"1 settimana"})]})]})})})),on=Object(r.b)((function(e){return{token:e.token,id_company:e.id_company,lista_nomi_sedi:e.lista_nomi_sedi}}),(function(e){return{}}))((function(e){var t=Object(i.useState)([]),n=Object(u.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)({interval:-1}),s=Object(u.a)(o,2),r=(s[0],s[1],function(e){var t=document.getElementsByClassName("arrowAccordion"+e)[0];t.style.transform="rotate(90deg)",t.style.transition="transform 1s ease",t.style.display="inline-block"}),d=function(e){var t=document.getElementsByClassName("arrowAccordion"+e)[0];t.style.transform="rotate(0deg)",t.style.transition="transform 1s ease",t.style.display="inline-block"},m=function(){var t,n,i=Tt("Caricamento...");(t=e.id_company,n=e.token,bt.post(it,{id_company:String(t),token:n})).then((function(t){(function(e,t){return bt.post(ct,{id_company:String(e),token:t})})(e.id_company,e.token).then((function(e){a(b(t.data.nomi_servizi,e.data.tipologie_alert)),It(i)})).catch((function(e){It(i),Et(String(e))}))})).catch((function(e){It(i),Et(String(e))}))},b=function(e,t){var n=[];return n.push(Object(p.jsxs)(Gt.a,{onOpen:function(){return r("Mail")},onClose:function(){return d("Mail")},trigger:Object(p.jsx)("div",{className:"clickable",children:Object(p.jsxs)("h4",{children:[Object(p.jsx)("span",{className:"arrowAccordionMail",children:Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","chevron-right"]})})," Gestione mail "]})}),children:[Object(p.jsx)(l.Col,{xs:6,md:6,children:Object(p.jsx)("h5",{children:"Ricevi resoconto via mail ogni:"})}),Object(p.jsx)(an,{})]})),n.push(["Alert","Servizi di Windows"].map((function(n,i){return Object(p.jsx)("div",{className:"popminwidth",children:Object(p.jsxs)(Gt.a,{onOpen:function(){return r(i)},onClose:function(){return d(i)},trigger:Object(p.jsx)("div",{className:"clickable",children:Object(p.jsxs)("h4",{children:[Object(p.jsx)("span",{className:"arrowAccordion"+i,children:Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","chevron-right"]})})," ",n," "]})}),children:[Object(p.jsxs)(Qt.a,{children:["Alert"==n?Object(p.jsx)(l.Col,{xs:2,md:2,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"ALERT"})})}):Object(p.jsx)(l.Col,{xs:2,md:2,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"SERVIZIO"})})}),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.Col,{xs:2,md:2,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"TIPOLOGIA"})})}),Object(p.jsx)(l.Col,{xs:2,md:2,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"LICENZA"})})}),Object(p.jsx)(l.Col,{xs:2,md:2,children:Object(p.jsx)("strong",{children:Object(p.jsx)("h5",{children:"SEDE"})})})]})]}),"Servizi di Windows"==n?e.map((function(e,t){return Object(p.jsx)(nn,{nome_servizio:e,index:t})})):t.map((function(e,t){return Object(p.jsx)(cn,{tipologia_alert:e,index:t})}))]})})}))),n};return Object(p.jsxs)(l.Box,{title:"Gestione dei monitoraggi:",type:"primary",collapsable:!0,footer:Object(p.jsx)(_,{title:"Gestione dei monitoraggi",linkClass:"clickable",childs:c,action:function(){return m()}}),children:[Object(p.jsx)("h4",{children:"Abilita o disabilita per diversi gruppi il monitoraggio di:"}),Object(p.jsx)("h4",{className:"boxBody",children:Object(p.jsx)("strong",{children:"Alert"})}),Object(p.jsx)("h4",{className:"boxBody",children:Object(p.jsx)("strong",{children:"Servizi di Windows"})}),Object(p.jsxs)("h4",{children:["Ultimo aggiornamento mail: ",_e(e.last_mail_date)]})]})})),ln=Object(r.b)((function(e){return{category_vs_place:e.company_template.category_vs_place}}),(function(e){return{Toggle:function(t){e({type:S,category_vs_place:!t})}}}))((function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{onChange:function(t){e.Toggle(e.category_vs_place)},children:e.category_vs_place?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"radio",value:"category",name:"toggleView",checked:"checked"})," Tipologia dispositivi",Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"radio",value:"place",name:"toggleView"})," Categoria"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"radio",value:"category",name:"toggleView"})," Tipologia dispositivi",Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"radio",value:"place",name:"toggleView",checked:"checked"})," Categoria"]})})})}));document.body.classList.add("fixed");var sn=l.Sidebar.Item,rn=Object(r.b)((function(e){return{client_list:e.client_list,nome_company:e.company_template.company_data.ragione_sociale,email:e.company_template.company_data.email,emailNotify:e.company_template.company_data.emailNotify,token:e.token,logged:e.logged,id_company:e.id_company,chiave_di_registrazione:e.company_template.company_data.chiave_di_registrazione,apex:e.company_template.history,company_template:e.company_template,lista_nomi_sedi:e.lista_nomi_sedi,lista_id_sedi:e.lista_id_sedi,last_mail_date:e.company_template.last_mail_date}}),(function(e){return{CompanyTemplateLicenze:function(t){e(ne(t))},UpdateCompanyOverview:function(t,n,i){e(function(e,t,n){return{type:M,overview:{n_errori:e,n_running:n,n_warnings:t}}}(t,n,i))},UpdateCompanyHistory:function(t){e(function(e){return{type:W,history_data:e}}(t))},UpdateToken:function(t){e(ae(t))},TotalReset:function(){e(ce())},GetLastMailDateAndTime:function(t){e(function(e){return{type:X,last_mail_date:e}}(t))},FixSedi:function(t,n,i){var c=[];t.map((function(e){n.map((function(t,n){e.sede!==t&&e.sede!==i[n]||(e.sede=String(i[n]),c.push(e))}))})),e(ie(c))}}}))((function(e){var t=function(t){var n=Tt("Caricamento...");ht(e.id_company,e.token).then((function(i){if(xe(i.data.messageCode)&&(It(n),Et("Sessione scaduta"),e.TotalReset(),t=!1),0!=t){var c=e.token;fe(e.token,i.data.token)&&(e.UpdateToken(i.data.token),c=i.data.token);var a=e.client_list,o=[];a.map((function(t){e.lista_nomi_sedi.map((function(n,i){t.sede!==n&&t.sede!==e.lista_id_sedi[i]||(t.sede=String(e.lista_id_sedi[i]),o.push(t))}))})),e.CompanyTemplateLicenze(i.data.licenzeShallow),kt(c,e.id_company).then((function(t){e.UpdateCompanyHistory(t),function(e,t){return bt.post(mt,{token:e,id_company:String(t)})}(c,e.id_company).then((function(t){e.GetLastMailDateAndTime(t.data.last_mail_date_and_time),function(e,t){return bt.post(Je,{id_company:String(t),token:e})}(c,e.id_company).then((function(t){new Promise((function(n,i){e.UpdateCompanyOverview(t.data.errori,t.data.warning,t.data.ok),n()})).then((function(t){var n=e.client_list,i=[];n.map((function(t){e.lista_nomi_sedi.map((function(n,c){t.sede!==n&&t.sede!==e.lista_id_sedi[c]||(t.sede=String(e.lista_id_sedi[c]),i.push(t))}))})),e.FixSedi(i,e.lista_nomi_sedi,e.lista_id_sedi)}),(function(e){})),It(n)})).catch((function(e){It(n),Et(String(e))}))}))})).catch((function(e){It(n),Et(String(e))}))}})).catch((function(e){It(n),Et(String(e))}))};Object(i.useEffect)((function(){t(true);var e=setInterval((function(){t(true)}),6e4);return function(){clearInterval(e)}}),[]);var n=function(t){var n,i=[];e.client_list.map((function(c){t.map((function(t){t==c.id_client&&(n=c,e.lista_id_sedi.map((function(t,a){t!=c.sede&&e.lista_nomi_sedi[a]!=c.sede||(n.sede=e.lista_nomi_sedi[a],i.push(n))})))}))}));var c=[Object(p.jsx)(l.Col,{className:"oddColor col-md-4 col-xs-4",children:Object(p.jsx)("strong",{children:"Nome client"})}),Object(p.jsx)(l.Col,{className:"oddColor col-md-4 col-xs-4",children:Object(p.jsx)("strong",{children:"Sede"})}),Object(p.jsx)(l.Col,{className:"oddColor col-md-4 col-xs-4",children:Object(p.jsx)("strong",{children:"Tipologia"})})];return i.map((function(t,n){var i;i=n,c=[].concat(Object(Wt.a)(c),i%2==1?[Object(p.jsx)(l.Col,{className:"oddColor overview-popup-list vertical-aligner col-md-4 col-xs-4",children:Object(p.jsx)(sn,{text:t.nome_client,to:"/company"+e.nome_company+"user"+t.id_client},t.id_client)}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-4 col-xs-4",children:t.sede}),Object(p.jsx)(l.Col,{className:"oddColor vertical-aligner col-md-4 col-xs-4",children:t.tipo_client})]:[Object(p.jsx)(l.Col,{className:"evenColor overview-popup-list vertical-aligner col-md-4 col-xs-4",children:Object(p.jsx)(sn,{text:t.nome_client,to:"/company"+e.nome_company+"user"+t.id_client},t.id_client)}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-4 col-xs-4",children:t.sede}),Object(p.jsx)(l.Col,{className:"evenColor vertical-aligner col-md-4 col-xs-4",children:t.tipo_client})])})),c};return Object(p.jsx)(l.Content,{title:e.title,browserTitle:e.title,children:Object(p.jsx)(l.Row,{children:Object(p.jsxs)(m.b,{children:[Object(p.jsx)(h,{size:3,titles:["Client con problemi","Client con warnings","Client senza problemi e warnings"],problems:e.company_template.client_overview.n_errori.length,warnings:e.company_template.client_overview.n_warnings.length,running:e.company_template.client_overview.n_running.length,popUpChildsWarnings:[],popUpChildsProblemi:[],idClientsWarnings:n(e.company_template.client_overview.n_warnings),idClientsProblemi:n(e.company_template.client_overview.n_errori),isHome:!0}),Object(p.jsx)(l.Col,{xs:6,md:3,children:Object(p.jsx)(l.Box,{title:"Personalizzazione",type:"primary",collapsable:!0,children:Object(p.jsxs)(l.Col,{md:12,xs:12,children:[Object(p.jsx)("b",{children:"Visualizzazione client: "}),Object(p.jsx)(ln,{})]})})}),Object(p.jsx)(l.Col,{xs:12,md:6,children:Object(p.jsx)(en,{title:"Gestione delle licenze"})}),Object(p.jsx)(l.Col,{md:6,xs:12,children:Object(p.jsx)(Rt,{apex:e.apex})}),Object(p.jsx)(l.Col,{xs:12,md:6,children:Object(p.jsx)(tn,{email:e.email,emailNotify:e.emailNotify,ragioneSociale:e.nome_company,chiave:e.chiave_di_registrazione})}),Object(p.jsx)(l.Col,{xs:12,md:6,children:Object(p.jsx)(on,{last_mail_date:e.last_mail_date})})]})})})})),dn=l.Sidebar.Item,un=Object(r.b)((function(e){return{client_list:e.client_list,nome_company:e.company_template.company_data.ragione_sociale,logged:e.logged}}),(function(e){return{Login:function(t,n,i,c,a){e(J(t,n,i,c,a))},LoginWithPlacesCategories:function(t,n,i,c,a,o,l,s,r,d,u,j){e(function(e){return{type:k,categories_list:e}}(s)),e(function(e){return{type:C,places_list:e}}(l)),e(J(t,n,i,c,a,o,r,d,u,j))}}}))((function(e){var t=c.a.useState({emailLogin:"",pswLogin:""}),n=Object(u.a)(t,2),i=n[0],a=n[1],o=function(t,n){var i=Tt("Accesso in corso...");(function(e,t){var n=pt(t);return bt.post(Ne,{email:e,password:n})})(t,n).then((function(n){if(n.data.messageCode==je)It(i),Et(n.data.message);else{It(i),zt(n.data.message);var c=n.data.ragione_sociale,a=n.data.id_company,o=n.data.token,l=n.data.emailNotify,s=n.data.chiave_di_registrazione;gt(a,o).then((function(n){var r=n.data.shallowClients;_t(a,o).then((function(n){var d=n.data.sedi;(function(e,t){return bt.post(De,{token:t,id_company:e})})(a,o).then((function(n){var u=n.data.categories;(function(e,t){return bt.post(He,{id_company:String(t),token:e})})(o,a).then((function(n){var i=n.data.nsedi;ft(o,a).then((function(n){var j=[],m=[];n.data.sedi.map((function(e){j.push(e.substring(e.indexOf(",")+1,e.length)),m.push(e.substring(0,e.indexOf(",")))})),e.LoginWithPlacesCategories(c,a,t,l,r,o,d,u,i,s,j,m),document.getElementsByClassName("sidebar-menu")[0].getElementsByTagName("li")[0].getElementsByTagName("a")[0].click()})).catch((function(e){Et(String(e))}))})).catch((function(e){It(i),Et(String(e))}))})).catch((function(e){It(i),Et(String(e))}))})).catch((function(e){It(i),Et(String(e))}))})).catch((function(e){It(i),Et(String(e))}))}})).catch((function(e){It(i),Et(String(e))}))};return!1===e.logged?Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"col-md-6 col-md-offset-3",children:[Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"LoginEmail1",children:"Indirizzo email"}),Object(p.jsx)("input",{type:"email",value:i.emailLogin,className:"form-control",id:"LoginEmail1","aria-describedby":"emailHelp",placeholder:"Email",onChange:function(e){a((function(t){return Object(d.a)(Object(d.a)({},t),{},{emailLogin:e.target.value})}))}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"LoginPassword1",children:"Password"}),Object(p.jsx)("input",{type:"password",value:i.pswLogin,className:"form-control",id:"LoginPassword1",placeholder:"Password",onChange:function(e){a((function(t){return Object(d.a)(Object(d.a)({},t),{},{pswLogin:e.target.value})}))}})]})]}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return o(i.emailLogin,i.pswLogin)},children:"Accedi"}),Object(p.jsx)("div",{className:"overview-popup-list password-dimenticata",children:Object(p.jsx)(dn,{to:"/richiediPassword",text:"Password dimenticata"})})]})]})}):Object(p.jsxs)("div",{children:[Object(p.jsx)(rn,{path:"/"+e.nome_company,title:e.nome_company}),e.client_list.map((function(t){return Object(p.jsx)(Jt,{path:"/company"+e.nome_company+"user"+t.id_client,title:t.nome_client})}))]})})),jn=Object(r.b)((function(e){return{nome_company:e.nome_company,message:e.message,messageCode:e.messageCode}}),(function(e){return{SignUp:function(t,n){e(function(e,t){return{type:x,message:e,messageCode:t}}(t,n))}}}))((function(e){var t=c.a.useState({emailSignUp:"",pswSignUp:"",emailAlertSignUp:"",ragioneSocialeSignUp:""}),n=Object(u.a)(t,2),i=n[0],a=n[1],o=function(e,t,n,i){var c=Tt("Registrazione in corso...");(function(e,t,n,i){var c=pt(t);return bt.post(ze,{email:e,password:c,email_alert:n,ragione_sociale:i})})(e,t,n,i).then((function(e){e.data.messageCode==je?(It(c),Et(e.data.message)):(It(c),zt(e.data.message))})).catch((function(e){It(c),Et(String(e))}))};return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"col-md-6 col-md-offset-3",children:Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Indirizzo email"}),Object(p.jsx)("input",{type:"email",value:i.emailSignUp,onChange:function(e){a((function(t){return Object(d.a)(Object(d.a)({},t),{},{emailSignUp:e.target.value})}))},className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Email"})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(p.jsx)("input",{type:"password",value:i.pswSignUp,onChange:function(e){a((function(t){return Object(d.a)(Object(d.a)({},t),{},{pswSignUp:e.target.value})}))},className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"exampleInputEmail2",children:"Indirizzo email per le comunicazioni"}),Object(p.jsx)("input",{type:"email",value:i.emailAlertSignUp,onChange:function(e){a((function(t){return Object(d.a)(Object(d.a)({},t),{},{emailAlertSignUp:e.target.value})}))},className:"form-control",id:"exampleInputEmail2","aria-describedby":"emailHelp",placeholder:"Email"})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"exampleInputRagioneSociale",children:"Ragione Sociale"}),Object(p.jsx)("input",{value:i.ragioneSocialeSignUp,onChange:function(e){a((function(t){return Object(d.a)(Object(d.a)({},t),{},{ragioneSocialeSignUp:e.target.value})}))},className:"form-control",id:"exampleInputRagioneSociale","aria-describedby":"emailHelp",placeholder:"Ragione Sociale"})]}),Object(p.jsx)("button",{type:"button",onClick:function(){return o(i.emailSignUp,i.pswSignUp,i.emailAlertSignUp,i.ragioneSocialeSignUp)},className:"btn btn-primary",children:"Registrati"})]})})]})})})),mn=function(e){var t=Object(i.useState)(),n=Object(u.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(),l=Object(u.a)(o,2),s=l[0],r=l[1];return Object(i.useEffect)((function(){var e=window.location.search,t=e.substring(e.indexOf("token=")+"token=".length,e.indexOf("&tipologia_alert")),n=e.substring(e.indexOf("tipologia_alert=")+"tipologia_alert=".length,e.indexOf("&id_client")),i=e.substring(e.indexOf("id_client=")+"id_client=".length,e.length);a({token:t,tipologia_alert:n,id_client:i}),function(e,t,n){return bt.get(lt+"?token="+e+"&tipologia_alert="+t+"&id_client="+n)}(t,n,i).then((function(e){r(e.data.messageCode)})).catch((function(e){}))}),[]),Object(p.jsx)("div",{children:Object(p.jsx)("table",{role:"presentation",border:"0",cellpadding:"0",cellspacing:"0",style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"antiquewhite"},children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"\xa0"}),Object(p.jsx)("td",{class:"container",children:Object(p.jsxs)("div",{class:"content",children:[Object(p.jsx)("center",{children:Object(p.jsx)("h1",{children:"ITSentinel"})}),Object(p.jsx)("table",{role:"presentation",class:"main",style:{margin:"auto"},children:Object(p.jsx)("center",{children:Object(p.jsx)("tr",{children:Object(p.jsx)("td",{class:"wrapper",children:Object(p.jsx)("table",{role:"presentation",border:"0",cellpadding:"0",cellspacing:"0",children:Object(p.jsx)("tr",{children:Object(p.jsxs)("td",{style:{textAlign:"center"},children:[0==s?Object(p.jsx)("center",{children:Object(p.jsxs)("p",{children:["La disattivazione delle mail per ",c&&c.tipologia_alert.toLowerCase().replace("_"," ")," \xe8 andata a buon fine."]})}):Object(p.jsx)("center",{children:Object(p.jsxs)("p",{children:["Impossibile disattivare le email per ",c&&c.tipologia_alert.toLowerCase().replace("_"," "),". Token gi\xe0 utilizzato o non valido."]})}),Object(p.jsx)("table",{role:"presentation",border:"0",cellpadding:"0",cellspacing:"0",class:"btn btn-primary",children:Object(p.jsx)("tbody",{children:Object(p.jsx)("tr",{children:Object(p.jsx)("td",{align:"center",children:Object(p.jsx)("table",{style:{margin:"0 auto;"},role:"presentation",border:"0",cellpadding:"0",cellspacing:"0",children:Object(p.jsx)("tbody",{children:Object(p.jsx)("tr",{children:Object(p.jsxs)("td",{children:[" ",Object(p.jsx)("center",{children:Object(p.jsx)("a",{href:"http://217.160.240.146:3000/",target:"_blank",style:{color:"white"},children:"Vai alla dashboard"})})," "]})})})})})})})}),Object(p.jsx)("table",{style:{margin:"auto"},children:Object(p.jsx)("tbody",{children:Object(p.jsx)("tr",{children:Object(p.jsx)("td",{children:Object(p.jsx)("center",{children:Object(p.jsx)("small",{children:(new Date).toUTCString()})})})})})})]})})})})})})})]})}),Object(p.jsx)("td",{children:"\xa0"})]})})})},bn=function(){var e=c.a.useState({email:""}),t=Object(u.a)(e,2),n=t[0],i=t[1];return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"col-md-6 col-md-offset-3",children:[Object(p.jsx)("form",{children:Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"LoginEmail1",children:"Indirizzo email"}),Object(p.jsx)("input",{type:"email",value:n.email,className:"form-control",id:"LoginEmail1","aria-describedby":"emailHelp",placeholder:"Email",onChange:function(e){i((function(t){return Object(d.a)(Object(d.a)({},t),{},{email:e.target.value})}))}})]})}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){var e,t=Tt("Invio mail richiesta password...");(e=n.email,bt.post(dt,{email:e})).then((function(){It(t),zt("Mail inviata correttamente")})).catch((function(e){It(t),Et(String(e))}))},children:"Richiedi password"})]})]})})},pn=function(){var e=window.location.search,t=e.substring(e.indexOf("token=")+"token=".length,e.indexOf("&id_company")),n=e.substring(e.indexOf("id_company=")+"id_company=".length),c=Object(i.useState)({nuovaPassword:"",confermaPassword:""}),a=Object(u.a)(c,2),o=a[0],l=a[1],s=Object(i.useState)(!1),r=Object(u.a)(s,2),j=r[0],m=r[1];Object(i.useEffect)((function(){(function(e){return bt.post(jt,{token:e})})(t).then((function(e){0==e.data.messageCode&&m(!0)}))}),[]);return j?Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"col-md-6 col-md-offset-3",children:[Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"LoginEmail1",children:"Nuova password"}),Object(p.jsx)("input",{type:"password",className:"form-control",id:"LoginEmail1","aria-describedby":"emailHelp",placeholder:"Email",onChange:function(e){l(Object(d.a)(Object(d.a)({},o),{},{nuovaPassword:e.target.value}))}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"LoginEmail1",children:"Conferma password"}),Object(p.jsx)("input",{type:"password",className:"form-control",id:"LoginEmail1","aria-describedby":"emailHelp",placeholder:"Email",onChange:function(e){l(Object(d.a)(Object(d.a)({},o),{},{confermaPassword:e.target.value}))}})]})]}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Tt("Modifica password...");o.nuovaPassword==o.confermaPassword&&""!=o.nuovaPassword?function(e,t,n){return bt.post(ut,{token:e,password:pt(n),id_company:String(t)})}(t,n,o.nuovaPassword).then((function(t){It(e),zt("Password cambiata correttamente"),document.getElementsByClassName("sidebar-menu")[0].getElementsByTagName("li")[0].getElementsByTagName("a")[0].click()})).catch((function(t){It(e),Et(String(t))})):Et("Le password devono essere uguali"),It(e)},children:"Cambia password"})]})]})}):Object(p.jsx)("h1",{style:{"text-align":"center","margin-top":"75px"},children:"Token gi\xe0 utilizzato o non valido"})},_n=l.Sidebar.Item,hn=l.Sidebar.Searchbar,gn=Object(r.b)((function(e){return{client_list:e.client_list,nome_company:e.company_template.company_data.ragione_sociale,logged:e.logged,searched_client:e.searched_client,categories_list:e.categories_list,places_list:e.places_list,category_vs_place:e.company_template.category_vs_place,token:e.token,id_company:e.id_company,lista_nomi_sedi:e.lista_nomi_sedi,lista_id_sedi:e.lista_id_sedi}}),(function(e){return{Search:function(t){e({type:y,client_name:t})},TotalReset:function(){e(ce())}}}))((function(e){Object(i.useEffect)((function(){document.getElementsByClassName("sidebar-menu")[0].getElementsByTagName("li")[0].getElementsByTagName("a")[0].click()}),[]);return Object(p.jsx)("div",{children:"/unsubscribeAlert"==window.location.pathname?Object(p.jsx)(mn,{path:"/unsubscribeAlert"}):Object(p.jsxs)(p.Fragment,{children:[Nt,1==e.logged?Object(p.jsxs)(s.a,{title:[Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","home"]})," Home"],homeTo:"/"+e.id_company,titleShort:Object(p.jsx)(j.FontAwesomeIcon,{icon:["fas","home"]}),theme:"blue",sidebar:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_n,{icon:"fa-user-alt",text:"Account",to:"/"+e.id_company},"-1"),Object(p.jsx)(hn,{onChange:function(t){e.Search(t.target.value)},includeButton:"true",placeholder:"Cerca..."}),e.category_vs_place?function(t,n,i,c){var a=["Client","Server"],o=["fa-desktop","fa-server"],l=[];return void 0!=e.lista_id_sedi&&e.lista_id_sedi.map((function(c,s){l=t.filter((function(t){return(t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c)&&t.nome_client.includes(i.toUpperCase())})).length>0||""===i?[l,Object(p.jsx)(_n,{icon:"fa-map-marker-alt",text:he(c,e.lista_nomi_sedi,e.lista_id_sedi)+" ("+t.filter((function(t){return t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c})).length+")",children:a.map((function(a,l){return t.filter((function(t){return(t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c)&&t.tipo_client==a})).length>0&&t.filter((function(t){return(t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c)&&t.nome_client.includes(i.toUpperCase())})).length>0?Object(p.jsx)(_n,{icon:"fa-users",text:a+" ("+t.filter((function(t){return(t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c)&&t.tipo_client==a})).length+")",children:e.client_list.map((function(t){return((t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c)&&t.tipo_client===a||t.sede==e.lista_nomi_sedi[s]&&t.tipo_client===a)&&(""==i||t.nome_client.toUpperCase().includes(i.toUpperCase()))?Object(p.jsx)(_n,{icon:o[l],text:Object(p.jsxs)(p.Fragment,{children:[t.nome_client," ",Object(p.jsx)(j.FontAwesomeIcon,{icon:["far","dot-circle"]})]}),to:"/company"+n+"user"+t.id_client},t.id_client):Object(p.jsx)(p.Fragment,{})}))}):Object(p.jsx)(p.Fragment,{})}))})]:l})),l}(e.client_list,e.nome_company,e.searched_client,e.categories_list):function(t,n,i,c){var a=[1,2,3,4,5],o=[];return void 0!=e.lista_id_sedi&&e.lista_id_sedi.map((function(c,l){o=t.filter((function(t){return(t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c)&&t.nome_client.includes(i.toUpperCase())})).length>0||""===i?[o,Object(p.jsx)(_n,{icon:"fa-map-marker-alt",text:he(c,e.lista_nomi_sedi,e.lista_id_sedi)+" ("+t.filter((function(t){return t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c})).length+")",children:a.map((function(a){return t.filter((function(t){return(t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c)&&t.classe_licenza.includes(a)})).length>0&&t.filter((function(t){return(t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c)&&t.nome_client.includes(i.toUpperCase())})).length>0?Object(p.jsx)(_n,{icon:"fa-users",text:ge(a)+" ("+t.filter((function(t){return(t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c)&&t.classe_licenza.includes(a)})).length+")",children:e.client_list.map((function(t){return((t.sede==he(c,e.lista_nomi_sedi,e.lista_id_sedi)||t.sede==c)&&t.classe_licenza.includes(a)||t.sede==e.lista_nomi_sedi[l]&&t.classe_licenza.includes(a))&&(""==i||t.nome_client.toUpperCase().includes(i.toUpperCase()))?Object(p.jsx)(_n,{icon:"fa-desktop",text:Object(p.jsxs)(p.Fragment,{children:[t.nome_client," ",Object(p.jsx)(j.FontAwesomeIcon,{icon:["far","dot-circle"]})]}),to:"/company"+n+"user"+t.id_client},t.id_client):Object(p.jsx)(p.Fragment,{})}))}):Object(p.jsx)(p.Fragment,{})}))})]:o})),o}(e.client_list,e.nome_company,e.searched_client,e.places_list),Object(p.jsx)("a",{id:"logoutButton",onClick:function(){e.TotalReset()},children:Object(p.jsx)(_n,{className:"clickable",icon:"fas-sign-out-alt",text:"Logout",to:"/accedi"})})," "]}),children:[Object(p.jsx)(rn,{path:"/"+e.id_company,title:e.nome_company}),e.client_list.map((function(t){return Object(p.jsx)(Jt,{path:"/company"+e.nome_company+"user"+t.id_client,id_client:t.id_client,id_company:e.id_company,token:e.token,client:t,title:t.nome_client})}))]}):Object(p.jsxs)(s.a,{title:["IT Sentinel"],titleShort:["ITS"],theme:"blue",sidebar:[Object(p.jsx)(_n,{icon:"fa-sign-in-alt",text:"Accedi",to:"/accedi"},"1"),Object(p.jsx)(_n,{icon:"fa-user-plus",text:"Registrati",to:"/registrati"},"2")],children:[Object(p.jsx)("div",{path:"/accedi",title:"Accedi",children:Object(p.jsx)(un,{})}),Object(p.jsx)("div",{path:"/registrati",title:"Registrati",children:Object(p.jsx)(jn,{})}),Object(p.jsx)("div",{path:"/richiediPassword",title:"Richiedi nuova password",children:Object(p.jsx)(bn,{})}),Object(p.jsx)("div",{path:"/changePassword",title:"Cambio password",children:Object(p.jsx)(pn,{})})]})]})})})),On=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,146)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),a(e),o(e)}))},xn=n(18),fn=n(32),vn=n(68),yn=n.n(vn),Cn={message:"",messageCode:0,id_company:null,client_list:[],logged:!1,token:null,licensesList:[{name:oe.label,id:oe.tipo},{name:le.label,id:le.tipo},{name:re.label,id:re.tipo},{name:de.label,id:de.tipo},{name:se.label,id:se.tipo}],searched_client:"",places_list:[],categories_list:[],services_list:[],events_list:[],n_totali:0,n_running:0,n_stop:0,n_monitorati:0,lista_nomi_sedi:[],lista_id_sedi:[],configurazione_alert:[],client_template:{last_insert_date:"",windows_services:{n_monitorati:0,n_esecuzione:0,n_stop:0,n_totali:0},windows_events:{n_problemi:0,n_warnings:0},info:{},alert:[],history:{lastUpdate:"",options:{chart:{id:"basic-bar"},xaxis:{categories:[]},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},dataLabels:{enabled:!1}},colors:["#dd4b39","#f39c12"],series:[{name:"N\xb0 di warnings",data:[],color:"#f39c12"},{name:"N\xb0 di problemi",data:[],color:"#dd4b39"}]},overview:{problemi:[0,0,0],warnings:[0,0,0],ok:[0,0,0]},drives:[{perc_free:0,total_size_GB:0,occupied_GB:0,free_GB:0,ultimo_aggiornamento:""}]},company_template:{last_mail_date:"",client_overview:{n_errori:[],n_warnings:[],n_running:[]},category_vs_place:!0,history:{lastUpdate:"",options:{chart:{id:"basic-bar"},xaxis:{categories:[]},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},dataLabels:{enabled:!1}},colors:["#dd4b39","#f39c12"],series:[{name:"N\xb0 di client con warnings",data:[],color:"#f39c12"},{name:"N\xb0 di client con problemi",data:[],color:"#dd4b39"}]},licensesList:[],company_data:{email:null,emailNotify:null,ragione_sociale:null,n_sedi:0,chiave_di_registrazione:null}}};function kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0;if(t.type===O)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{company_template:Object(d.a)(Object(d.a)({},e.company_template),{},{company_data:Object(d.a)(Object(d.a)({},e.company_template.company_data),{},{ragione_sociale:t.nome_company,email:t.email,emailNotify:t.emailNotify,chiave_di_registrazione:t.chiave_di_registrazione,n_sedi:t.lista_sedi})}),id_company:t.id_company,client_list:t.client_list,logged:!0,token:t.token,lista_nomi_sedi:t.listaNomiSedi,lista_id_sedi:t.listaIdSedi}));if(t.type===z)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{company_template:Object(d.a)(Object(d.a)({},e.company_template),{},{company_data:Object(d.a)(Object(d.a)({},e.company_template.company_data),{},{ragione_sociale:t.nome_company,email:t.email,emailNotify:t.emailNotify})}),token:t.token}));if(t.type===x)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{message:t.message,messageCode:t.messageCode}));if(t.type===f)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{licensesList:t.license}));if(t.type===v)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{licensesList:t.license}));if(t.type===y)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{searched_client:t.client_name}));if(t.type===C)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{places_list:t.places_list}));if(t.type===k)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{categories_list:t.categories_list}));if(t.type===S)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{company_template:Object(d.a)(Object(d.a)({},e.company_template),{},{category_vs_place:t.category_vs_place})}));if(t.type===N)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{services_list:t.servicesList}));if(t.type===w)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{events_list:t.eventsList}));if(t.type===E)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{n_totali:t.n_totali,n_running:t.n_running,n_stop:t.n_stop,n_monitorati:t.n_monitorati}));if(t.type===T)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{lista_nomi_sedi:t.listaNomi,token:t.token,lista_id_sedi:t.listaId,company_template:Object(d.a)(Object(d.a)({},e.company_template),{},{company_data:Object(d.a)(Object(d.a)({},e.company_template.company_data),{},{n_sedi:t.listaNomi.length})})}));if(t.type===I)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{client_list:t.clientList,token:t.token,lista_sedi:t.lista_sedi,lista_nomi_sedi:t.listaNomi,lista_id_sedi:t.listaSedi}));if(t.type===A)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{client_template:Object(d.a)(Object(d.a)({},e.client_template),{},{windows_events:t.windows_events})}));if(t.type===L)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{client_template:Object(d.a)(Object(d.a)({},e.client_template),{},{windows_services:t.windows_services})}));if(t.type===F)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{client_template:Object(d.a)(Object(d.a)({},e.client_template),{},{info:t.info})}));if(t.type===R)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{client_template:Object(d.a)(Object(d.a)({},e.client_template),{},{alert:t.alert})}));if(t.type===U)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{client_template:Cn.client_template,services_list:Cn.services_list,events_list:Cn.events_list}));if(t.type===P)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{company_template:Object(d.a)(Object(d.a)({},e.company_template),{},{licensesList:t.lista_licenze})}));if(t.type===D)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{client_template:Object(d.a)(Object(d.a)({},e.client_template),{},{overview:t.overview})}));if(t.type===q)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{client_template:Object(d.a)(Object(d.a)({},e.client_template),{},{last_insert_date:t.date})}));if(t.type===M)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{company_template:Object(d.a)(Object(d.a)({},e.company_template),{},{client_overview:t.overview})}));if(t.type===B)return Object.assign({},e,Object(d.a)(Object(d.a)({},e),{},{client_list:t.lista_client}));if(t.type===V)return Object.assign({},e,{client_template:Object(d.a)(Object(d.a)({},e.client_template),{},{history:Object(d.a)(Object(d.a)({},e.client_template.history),{},{lastUpdate:t.history_data.last_update,options:Object(d.a)(Object(d.a)({},e.client_template.history.options),{},{xaxis:{categories:t.history_data.xaxis}}),series:[Object(d.a)(Object(d.a)({},e.client_template.history.series[0]),{},{data:t.history_data.warnings}),Object(d.a)(Object(d.a)({},e.client_template.history.series[1]),{},{data:t.history_data.problems})]})})});if(t.type===W)return Object.assign({},e,{company_template:Object(d.a)(Object(d.a)({},e.company_template),{},{history:Object(d.a)(Object(d.a)({},e.company_template.history),{},{lastUpdate:t.history_data.last_update,options:Object(d.a)(Object(d.a)({},e.company_template.history.options),{},{xaxis:Object(d.a)(Object(d.a)({},e.company_template.history.options.xaxis),{},{categories:t.history_data.xaxis,type:"date"})}),series:[Object(d.a)(Object(d.a)({},e.company_template.history.series[0]),{},{data:t.history_data.warnings}),Object(d.a)(Object(d.a)({},e.company_template.history.series[1]),{},{data:t.history_data.problems})]})})});if(t.type===H){for(var n=0;n<e.client_list.length;n++)e.client_list[n].id_client==t.id_client&&e.client_list[n].classe_licenza.push(t.license);return Object.assign({},e)}return t.type===G?Object.assign({},e=Cn,{}):t.type===Z?Object.assign({},e,{token:t.token}):t.type===Y?Object.assign({},e,{configurazione_alert:t.operazioni}):t.type===X?(console.log(t.last_mail_date),Object.assign({},e,{company_template:Object(d.a)(Object(d.a)({},e.company_template),{},{last_mail_date:t.last_mail_date})})):e}var Sn={key:"root",storage:yn.a,blacklist:[]},Nn=(Object(fn.a)(Sn,kn),Object(fn.a)(Sn,kn)),wn=Object(xn.c)(Nn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),zn=Object(fn.b)(wn);o.a.render(Object(p.jsx)(c.a.Fragment,{children:Object(p.jsx)(r.a,{store:wn,children:Object(p.jsx)(gn,{})})}),document.getElementById("root")),On()},42:function(e,t,n){"use strict";n.r(t),n.d(t,"url_login",(function(){return c})),n.d(t,"url_signup",(function(){return a})),n.d(t,"url_lista_sedi",(function(){return o})),n.d(t,"url_lista_gruppi",(function(){return l})),n.d(t,"url_lista_servizi",(function(){return s})),n.d(t,"url_lista_tipo_dispositivi",(function(){return r})),n.d(t,"url_lista_licenze",(function(){return d})),n.d(t,"url_deep_client",(function(){return u})),n.d(t,"url_shallow_clients",(function(){return j})),n.d(t,"url_edit_company_data",(function(){return m})),n.d(t,"url_deep_licenze",(function(){return b})),n.d(t,"url_shallow_licenze",(function(){return p})),n.d(t,"url_get_servizi_monitorati",(function(){return _})),n.d(t,"url_get_servizi_all",(function(){return h})),n.d(t,"url_modifica_monitoraggio_servizio",(function(){return g})),n.d(t,"url_get_servizi_overview",(function(){return O})),n.d(t,"url_get_eventi_overview",(function(){return x})),n.d(t,"url_get_eventi",(function(){return f})),n.d(t,"url_modifica_sede",(function(){return v})),n.d(t,"url_get_drives",(function(){return y})),n.d(t,"url_get_n_sedi",(function(){return C})),n.d(t,"url_inserimento_sede",(function(){return k})),n.d(t,"url_cancellazione_sede",(function(){return S})),n.d(t,"url_get_nomi_sedi",(function(){return N})),n.d(t,"url_get_latest_alert",(function(){return w})),n.d(t,"url_compra_licenza",(function(){return z})),n.d(t,"url_get_client_overview_services",(function(){return E})),n.d(t,"url_get_company_overview",(function(){return T})),n.d(t,"url_get_client_history",(function(){return I})),n.d(t,"url_get_company_history",(function(){return L})),n.d(t,"url_assign_license",(function(){return A})),n.d(t,"url_modifica_monitoraggio_alert",(function(){return F})),n.d(t,"url_get_monitoraggio_alert",(function(){return R})),n.d(t,"url_update_monitoraggio_alert",(function(){return U})),n.d(t,"url_get_last_date",(function(){return P})),n.d(t,"url_get_all_services_of_company",(function(){return D})),n.d(t,"url_get_all_nomi_alert_configurazione",(function(){return M})),n.d(t,"url_update_monitora_all_services",(function(){return B})),n.d(t,"url_update_monitora_all_alerts",(function(){return V})),n.d(t,"url_unsubscribe_alert",(function(){return W})),n.d(t,"url_change_mail_interval",(function(){return H})),n.d(t,"url_get_mail_interval",(function(){return G})),n.d(t,"url_richiedi_password",(function(){return Z})),n.d(t,"url_cambio_password",(function(){return Y})),n.d(t,"url_is_token_valid",(function(){return q})),n.d(t,"url_get_last_mail_date_and_time",(function(){return X})),n.d(t,"url_loginFake",(function(){return K})),n.d(t,"url_signupFake",(function(){return Q})),n.d(t,"url_lista_sediFake",(function(){return $})),n.d(t,"url_lista_gruppiFake",(function(){return ee})),n.d(t,"url_lista_serviziFake",(function(){return te})),n.d(t,"url_lista_tipo_dispositiviFake",(function(){return ne})),n.d(t,"url_lista_licenzeFake",(function(){return ie})),n.d(t,"url_shallow_licenzeFake",(function(){return ce})),n.d(t,"url_deep_clientFake",(function(){return ae})),n.d(t,"url_edit_company_dataFake",(function(){return oe})),n.d(t,"url_get_servizi_monitoratiFake",(function(){return le})),n.d(t,"url_get_servizi_monitoratiFake2",(function(){return se})),n.d(t,"url_get_servizi_allFake",(function(){return re})),n.d(t,"url_get_servizi_allFake2",(function(){return de})),n.d(t,"url_get_servizi_overviewFake",(function(){return ue})),n.d(t,"url_get_eventi_overviewFake",(function(){return je})),n.d(t,"url_get_eventiFake",(function(){return me})),n.d(t,"url_get_n_sediFake",(function(){return be}));var i="http://217.160.240.146:8080/be/main/",c=i+"login",a=i+"registrazione",o=i+"clientLicenseList",l=i+"getClientTypes",s=i+"listaservizi",r=i+"listatipodispositivi",d=i+"listalicenze",u=i+"deepClient",j=i+"shallowClients",m=i+"editCompanyData",b=i+"getLicenzeDeep",p=i+"getLicenzeShallow",_=i+"getServiziMonitorati",h=i+"getServiziAll",g=i+"modificaMonitoraggioServizio",O=i+"getServiziOverview",x=i+"getEventiOverview",f=i+"getEventi",v=i+"modificaSedeClient",y=i+"getDrives",C=i+"getNSedi",k=i+"inserimentoSede",S=i+"cancellazioneSede",N=i+"getNomiSedi",w=i+"getLatestAlerts",z=i+"compraLicenza",E=i+"getClientOverview",T=i+"getCompanyOverview",I=i+"getClientHistory",L=i+"getCompanyHistory",A=i+"assegnaLicenza",F=i+"modificaMonitoraggioAlert",R=i+"getMonitoraggioAlert",U=i+"updateMonitoraggioAlert",P=i+"getLastDate",D=i+"getAllServicesOfCompany",M=i+"getAllNomiAlertConfigurazione",B=i+"updateMonitoraAllServices",V=i+"updateMonitoraAllAlerts",W=i+"unsubscribeAlert",H=i+"changeMailInterval",G=i+"getMailInterval",Z=i+"richiediPassword",Y=i+"changePassword",q=i+"isTokenValid",X=i+"getLastMailDate",J="http://127.0.0.1:3001/",K=J+"login",Q=J+"signup",$=J+"listasedi",ee=J+"listagruppi",te=J+"listaservizi",ne=J+"listatipodispositivi",ie=J+"listalicenze",ce=J+"getLicenzeShallow",ae=J+"deepClient",oe=J+"editCompanyData",le=J+"getServiziMonitorati",se=J+"getServiziMonitorati2",re=J+"getServiziAll",de=J+"getServiziAll2",ue=J+"getServiziOverview",je=J+"getEventiOverview",me=J+"getEventi",be=J+"getNSedi"},73:function(e,t,n){}},[[141,1,2]]]);
//# sourceMappingURL=main.e2789db6.chunk.js.map